const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/operation-view-dvfPPhEz.js","assets/js/file-upload-BS5oRSun.js","assets/js/vue-vendor-Bd-38gbZ.js","assets/js/utils-DhPZf1Jr.js","assets/js/vendor-raiXxd9r.js","assets/js/ui-vendor-SlhN3jDO.js","assets/css/ui-vendor-DnojJsHo.css","assets/css/operation-view-COTnKkXW.css","assets/js/GroupEndpointsView-BhTYvhPd.js"])))=>i.map(i=>d[i]);
import{c as nt,g as at,u as lt,_ as ae,a as it,b as Tt,d as Et,e as It,f as Pt,i as he,h as Je}from"./file-upload-BS5oRSun.js";import{d as Pe,r as R,w as le,a as se,b as C,h as a,e as me,p as B,u as T,o as b,c as L,f as ct,B as Be,j as H,n as V,k as F,C as X,g as O,T as dt,D as ut,E as At,G as Ee,H as Ot,A as P,F as K,y as Z,I as Ut,q as ke,v as pt,J as Nt,K as He,s as De,t as ee,m as jt,x as Rt,l as Lt,L as Mt,M as Ke}from"./vue-vendor-Bd-38gbZ.js";import{C as Fe,f as zt,G as Vt,X as Ht,K as qe,g as Dt,h as qt,i as ye,j as Bt,A as Ft,D as Wt,k as Gt}from"./ui-vendor-SlhN3jDO.js";import{J as Me}from"./utils-DhPZf1Jr.js";import{a as Jt}from"./vendor-raiXxd9r.js";const Xe={purple:{light:"262 83% 58%",dark:"262 83% 58%"},blue:{light:"217 91% 60%",dark:"217 91% 70%"},green:{light:"142 76% 36%",dark:"142 76% 46%"},orange:{light:"25 95% 53%",dark:"25 95% 63%"},red:{light:"0 84% 60%",dark:"0 84% 70%"},pink:{light:"330 81% 60%",dark:"330 81% 70%"},cyan:{light:"199 89% 48%",dark:"199 89% 58%"},yellow:{light:"45 93% 47%",dark:"45 93% 57%"},indigo:{light:"239 84% 67%",dark:"239 84% 77%"},teal:{light:"173 80% 40%",dark:"173 80% 50%"}},ft=Pe("settings",()=>{const e=R((()=>{if(typeof window>"u")return"purple";const y=localStorage.getItem("accentColor");return y&&y in Xe?y:"purple"})()),o=()=>{let y=document.getElementById("accent-color-styles");return y||(y=document.createElement("style"),y.id="accent-color-styles",document.head.appendChild(y)),y},s=y=>{if(typeof document>"u")return;const m=Xe[y],h=document.documentElement;h.style.setProperty("--primary",m.light),h.style.setProperty("--accent",m.light),h.style.setProperty("--ring",m.light),h.style.setProperty("--sidebar-primary",m.light),h.style.setProperty("--sidebar-ring",m.light);const d=o();d.textContent=`
      .dark {
        --primary: ${m.dark};
        --accent: ${m.dark};
        --ring: ${m.dark};
        --sidebar-primary: ${m.dark};
        --sidebar-ring: ${m.dark};
      }
    `,h.setAttribute("data-accent-color",y)},i=()=>{s(e.value)},f=y=>{e.value=y};s(e.value),le(e,y=>{typeof localStorage<"u"&&localStorage.setItem("accentColor",y),s(y)});const n=R(""),p=R(null);if(typeof window<"u"){const y=localStorage.getItem("customServerUrl");y&&(n.value=y);const m=localStorage.getItem("preferredServerType");["custom","current-host","spec"].includes(m)&&(p.value=m)}return le(n,y=>{typeof localStorage<"u"&&localStorage.setItem("customServerUrl",y)}),le(p,y=>{typeof localStorage<"u"&&(y?localStorage.setItem("preferredServerType",y):localStorage.removeItem("preferredServerType"))}),{accentColor:e,setAccentColor:f,reapplyAccentColor:i,customServerUrl:n,preferredServerType:p,setServerPreference:(y,m)=>{p.value=y,m!==void 0&&y==="custom"&&(n.value=m)}}}),sn=Object.freeze(Object.defineProperty({__proto__:null,useSettingsStore:ft},Symbol.toStringTag,{value:"Module"})),Kt={class:"h-full w-full rounded-[inherit] overflow-auto"},Ze=se({__name:"ScrollArea",props:{className:{default:""}},setup(t){return(e,o)=>(b(),C("div",{class:B(T(nt)("relative overflow-hidden",t.className))},[a("div",Kt,[me(e.$slots,"default")])],2))}});function ht(t){const e={name:"root",fullPath:"",children:new Map,operations:[]},o=(s,i=!1)=>{Object.entries(s).forEach(([f,n])=>{["get","post","put","delete","patch","options","head","trace"].forEach(u=>{const y=n[u];if(!y)return;const m=y.tags||["Untagged"];(i?m.map(d=>`Webhooks | ${d}`):m).forEach(d=>{const g=d.replace(/\s*\|\s*/g,"|").split("|").map(w=>w.trim()).filter(w=>w.length>0);g.length===0&&g.push(i?"Webhooks":"Untagged");let _=e,x="";g.forEach((w,M)=>{if(x=x?`${x} | ${w}`:w,_.children.has(w)||_.children.set(w,{name:w,fullPath:x,children:new Map,operations:[]}),_=_.children.get(w),M===g.length-1){const W=y.operationId||`${u.toUpperCase()}_${f}`;_.operations.some($=>$.method===u.toUpperCase()&&$.path===f&&($.operation.operationId||`${$.method}_${$.path}`)===W)||_.operations.push({method:u.toUpperCase(),path:f,operation:y})}})})})})};return o(t.paths,!1),t.webhooks&&o(t.webhooks,!0),e}function mt(t){return t.toLowerCase().trim().replace(/[\s|_]+/g,"-").replace(/-+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/^-+|-+$/g,"")}function vt(t,e){if(mt(t.fullPath)===e)return t;for(const o of t.children.values()){const s=vt(o,e);if(s)return s}return null}function Xt(t){if(t==="/"||t==="")return"root";const o=(t.startsWith("/")?t.slice(1):t).split("/").map(s=>s.replace(/^{([^}]+)}$/,":$1").replace(/[^a-zA-Z0-9:_-]/g,"-").replace(/-+/g,"-").toLowerCase()).filter(s=>s.length>0);return o.length===0?"root":o.join("/")}function Se(t,e,o){if(t.operationId)return t.operationId;const s=o.replace(/^\//,"").replace(/\//g,"_").replace(/{([^}]+)}/g,"$1").replace(/[^a-zA-Z0-9_]/g,"_");return`${e.toLowerCase()}_${s}`}function _e(t,e){for(const o of t)for(const[s,i]of Object.entries(o.spec.paths)){const f=["get","post","put","delete","patch","options","head","trace"];for(const n of f){const p=i[n];if(p&&Se(p,n.toUpperCase(),s)===e)return{method:n.toUpperCase(),path:s,operation:p,spec:o.spec,sourceUrl:o.sourceUrl}}}return null}function Zt(t){const e={name:"root",fullPath:"",children:new Map,operations:[]};return t.forEach(o=>{const s=o.title,i=ht(o.spec);if(!e.children.has(s))e.children.set(s,{name:s,fullPath:s,children:i.children,operations:i.operations});else{const f=e.children.get(s);i.children.forEach((n,p)=>{if(!f.children.has(p))f.children.set(p,n);else{const u=f.children.get(p);n.operations.forEach(y=>{u.operations.some(m=>m.method===y.method&&m.path===y.path)||u.operations.push(y)})}}),i.operations.forEach(n=>{f.operations.some(p=>p.method===n.method&&p.path===n.path)||f.operations.push(n)})}}),e}function We(t,e,o){if(t.security!==void 0)return t.security;if(e?.security!==void 0)return e.security;if(o.security!==void 0)return o.security}function Qe(t,e,o){const s=We(t,e,o);return!(s===void 0||s.length===0)}const Te=new Map,xe=new Map;function ue(t){return{GET:"bg-method-get",POST:"bg-method-post",PUT:"bg-method-put",DELETE:"bg-method-delete",PATCH:"bg-method-patch",OPTIONS:"bg-method-options",HEAD:"bg-method-head",TRACE:"bg-method-trace"}[t.toUpperCase()]||"bg-muted"}function Qt(t){const e=typeof t=="string"?parseInt(t,10):t;return isNaN(e)?"bg-muted":e>=200&&e<300?"bg-status-2xx":e>=300&&e<400?"bg-status-3xx":e>=400&&e<500?"bg-status-4xx":e>=500?"bg-status-5xx":"bg-muted"}function gt(t,e){const o=`${t.method}:${t.path}`;if(Te.has(o))return Te.get(o);let s=!1;const i=xe.get(t.path);if(i){const{specWithSource:f,pathItem:n}=i,p=n[t.method.toLowerCase()];p&&(s=Qe(p,n,f.spec))}else{for(const f of e){const n=f.spec.paths[t.path];if(n){xe.set(t.path,{specWithSource:f,pathItem:n});const p=n[t.method.toLowerCase()];if(p){s=Qe(p,n,f.spec);break}}}xe.has(t.path)||xe.set(t.path,null)}return Te.set(o,s),s}function Ye(){Te.clear(),xe.clear()}const Ae=Pe("spec",()=>{const t=R([]);return{spec:L(()=>t.value.length===1?t.value[0].spec:null),specs:t,setSpec:(n,p)=>{const u=n.info?.title||"Untitled Specification";t.value=[{spec:n,sourceUrl:p,title:u}]},setSpecs:n=>{t.value=n},addSpec:(n,p)=>{const u=n.info?.title||"Untitled Specification";t.value.push({spec:n,sourceUrl:p,title:u})},clearSpecs:()=>{t.value=[]}}}),Yt=["innerHTML"],es=["value"],bt=se({__name:"Tooltip",props:{content:{default:""},delay:{default:200},position:{default:"top"},html:{type:Boolean,default:!1}},setup(t){const e=t,o=R(!1),s=R(null),i=R(null),f=R({});let n=null,p=null;const u=()=>{p&&(clearTimeout(p),p=null),n=setTimeout(()=>{o.value=!0,At(()=>{m()})},e.delay)},y=()=>{n&&(clearTimeout(n),n=null),p=setTimeout(()=>{o.value=!1},100)},m=()=>{if(!s.value||!i.value)return;const h=i.value.getBoundingClientRect(),d=s.value.querySelector(".tooltip-content");if(d&&!e.html&&d.tagName==="TEXTAREA"){d.style.height="auto";const v=150,g=600,_=d.scrollHeight,x=Math.max(v,Math.min(_,g));d.style.height=`${x}px`}requestAnimationFrame(()=>{if(!s.value||!i.value)return;const v=s.value.getBoundingClientRect(),g=window.innerWidth,_=window.innerHeight;let x=0,w=0;switch(e.position){case"top":x=h.top-v.height-8,w=h.left+h.width/2-v.width/2;break;case"bottom":x=h.bottom+8,w=h.left+h.width/2-v.width/2;break;case"left":x=h.top+h.height/2-v.height/2,w=h.left-v.width-8;break;case"right":x=h.top+h.height/2-v.height/2,w=h.right+8;break}w<8&&(w=8),w+v.width>g-8&&(w=g-v.width-8),x<8&&(x=8),x+v.height>_-8&&(x=_-v.height-8),f.value={top:`${x}px`,left:`${w}px`}})};return ct(()=>{window.addEventListener("scroll",m,!0),window.addEventListener("resize",m)}),Be(()=>{n&&clearTimeout(n),p&&clearTimeout(p),window.removeEventListener("scroll",m,!0),window.removeEventListener("resize",m)}),(h,d)=>(b(),C("div",{ref_key:"containerRef",ref:i,class:"relative inline-block",onMouseenter:u,onMouseleave:y},[me(h.$slots,"default"),(b(),H(ut,{to:"body"},[V(dt,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"opacity-0 scale-95 translate-y-1","enter-to-class":"opacity-100 scale-100 translate-y-0","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"opacity-100 scale-100 translate-y-0","leave-to-class":"opacity-0 scale-95 translate-y-1"},{default:F(()=>[o.value&&t.content?(b(),C("div",{key:0,ref_key:"tooltipRef",ref:s,class:"fixed z-50 rounded-md border border-code-border bg-code-bg shadow-xl max-w-2xl pointer-events-none",style:X(f.value)},[t.html?(b(),C("div",{key:0,innerHTML:t.content,class:"tooltip-content w-full px-4 py-3 text-xs text-foreground bg-transparent border-0 overflow-auto",style:{"max-height":"600px",height:"auto"}},null,8,Yt)):(b(),C("textarea",{key:1,value:t.content,readonly:"",class:"tooltip-content w-full min-h-[150px] max-h-[600px] px-4 py-3 text-xs font-mono text-foreground bg-transparent border-0 resize-none overflow-auto focus:outline-none",style:{"scrollbar-width":"thin","scrollbar-color":"hsl(var(--muted-foreground) / 0.3) transparent",height:"auto"}},null,8,es))],4)):O("",!0)]),_:1})]))],544))}}),ts={key:0,class:"text-sidebar-foreground/70"},ss={key:1,class:"w-4"},os={class:"text-sm font-medium text-sidebar-foreground"},rs={key:2,class:"ml-auto text-xs text-muted-foreground"},ns={key:1,class:"animate-in slide-in-from-top-2 duration-200"},as={key:0,dir:"rtl",class:"block truncate text-left w-full"},ls={key:1,class:"truncate block"},is=se({__name:"SidebarNode",props:{node:{},level:{},expandedNodes:{},selectedOperation:{}},emits:["toggleNode","selectOperation","selectGroup"],setup(t,{emit:e}){const o=t,s=e,i=Ae(),{specs:f}=Ee(i),n=L(()=>Array.from(o.expandedNodes).sort().join("|")),p=L(()=>(n.value,o.expandedNodes.has(o.node.fullPath))),u=L(()=>o.node.children.size>0),y=L(()=>o.node.operations.length>0),m=L(()=>{const w=o.node.children;return Array.from(w.values())}),h=L(()=>{const w=o.selectedOperation,M=w?.method,W=w?.path,S=f.value;return o.node.operations.map($=>{const I=M===$.method&&W===$.path,U=gt({method:$.method,path:$.path},S),G=$.operation.summary||$.path,Q=`
      <div class="flex flex-col gap-3 min-w-[280px]">
        <div class="flex items-center gap-2.5 pb-2 border-b border-border/10">
          <span class="text-[10px] font-black uppercase px-1.5 py-0.5 rounded tracking-wider text-white ${ue($.method)}">${$.method}</span>
          <span class="font-semibold text-sm tracking-tight text-white">${$.operation.summary||"Endpoint"}</span>
        </div>
        
        <div class="font-mono text-[11px] bg-black/40 px-3 py-2 rounded border border-white/5 break-all text-muted-foreground select-all">
          ${$.path}
        </div>
        
        ${$.operation.description?`
          <div class="text-xs text-muted-foreground/80 leading-relaxed font-normal">
            ${$.operation.description}
          </div>
        `:""}
        
        ${U?`
          <div class="flex items-center gap-1.5 pt-1 mt-1 border-t border-border/10 text-[10px] items-center text-red-400/90 font-medium">
             <div class="w-1.5 h-1.5 rounded-full bg-red-500 box-shadow-red"></div>
             Authenticated Route
          </div>
        `:""}
      </div>
    `;return{...$,isPrivate:U,isSelected:I,displayName:G,tooltipContent:Q,colorClass:ue($.method),itemClass:I?"bg-primary/10 text-primary":"hover:bg-sidebar-accent",privacyClass:U?"bg-red-500":"bg-green-500"}})}),d=L(()=>`${(o.level+1)*12+12}px`),v=()=>{(u.value||y.value)&&(s("toggleNode",o.node.fullPath),s("selectGroup",o.node))},g=w=>{s("toggleNode",w)},_=(w,M)=>{s("selectOperation",w,M)},x=w=>{s("selectGroup",w)};return(w,M)=>{const W=Ot("SidebarNode",!0);return b(),C("div",null,[t.node.name!=="root"?(b(),C("div",{key:0,class:"flex items-center gap-2 px-3 py-2 hover:bg-sidebar-accent rounded-md cursor-pointer transition-colors",style:X({paddingLeft:`${t.level*12+12}px`}),onClick:v},[u.value||y.value?(b(),C("div",ts,[p.value?(b(),H(T(Fe),{key:0,class:"h-4 w-4"})):(b(),H(T(zt),{key:1,class:"h-4 w-4"}))])):(b(),C("div",ss)),a("span",os,P(t.node.name),1),y.value?(b(),C("span",rs,P(t.node.operations.length),1)):O("",!0)],4)):O("",!0),p.value&&t.node.name!=="root"?(b(),C("div",ns,[(b(!0),C(K,null,Z(h.value,(S,$,I,U)=>{const G=[S.method,S.path,S.isSelected,S.isPrivate];if(U&&U.key===`${S.method}-${S.path}`&&Ut(U,G))return U;const J=(b(),C("div",{key:`${S.method}-${S.path}`,class:B(["relative flex items-center gap-2 px-3 py-2 rounded-md cursor-pointer transition-colors group",S.itemClass]),style:X({paddingLeft:d.value}),onClick:Q=>_(S.method,S.path)},[V(bt,{content:S.tooltipContent,delay:500,html:!0,class:"flex items-center gap-2 w-full min-w-0"},{default:F(()=>[a("span",{class:B(["text-[9px] uppercase font-bold px-1 py-0.5 rounded text-white shrink-0 w-[38px] text-center tracking-tight",S.colorClass])},P(S.method),3),a("span",{class:B(["text-sm text-sidebar-foreground flex-1 min-w-0",{"direction-rtl text-left":!S.operation.summary}]),style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[S.operation.summary?(b(),C("span",ls,P(S.displayName),1)):(b(),C("span",as," â€Ž"+P(S.path),1))],2),a("div",{class:B(["w-1.5 h-1.5 rounded-full shrink-0",S.privacyClass])},null,2)]),_:2},1032,["content"])],14,["onClick"]));return J.memo=G,J},M,0),128)),(b(!0),C(K,null,Z(m.value,S=>(b(),C("div",{key:S.fullPath},[V(W,{node:S,level:t.level+1,"expanded-nodes":t.expandedNodes,"selected-operation":t.selectedOperation,onToggleNode:g,onSelectOperation:_,onSelectGroup:x},null,8,["node","level","expanded-nodes","selected-operation"])]))),128))])):O("",!0)])}}}),yt=Pe("requestHistory",()=>{const e=R([]),o=()=>{if(!(typeof localStorage>"u"))try{const d=localStorage.getItem("requestHistory");if(d){const v=JSON.parse(d);e.value=Array.isArray(v)?v:[],e.value.length>1e3&&(e.value=e.value.slice(-1e3))}else e.value=[]}catch{e.value=[]}},s=()=>{if(!(typeof localStorage>"u"))try{const d=e.value.slice(-1e3);localStorage.setItem("requestHistory",JSON.stringify(d))}catch{}},i=d=>{const v={...d,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};e.value.push(v),e.value.length>1e3&&(e.value=e.value.slice(-1e3)),s()},f=d=>{const v=e.value.findIndex(g=>g.id===d);v>-1&&(e.value.splice(v,1),s())},n=()=>{e.value=[],s()},p=d=>{const v=e.value.length;e.value=e.value.filter(g=>g.timestamp>=d),e.value.length!==v&&s()},u=d=>L(()=>{let v=[...e.value];if(d.method&&(v=v.filter(g=>g.method.toLowerCase()===d.method.toLowerCase())),d.path&&(v=v.filter(g=>g.path.includes(d.path))),d.status!==void 0&&(v=v.filter(g=>g.status===d.status)),d.error!==void 0&&(v=v.filter(g=>!!g.error===d.error)),d.specTitle&&(v=v.filter(g=>g.specTitle===d.specTitle)),d.searchQuery){const g=d.searchQuery.toLowerCase();v=v.filter(_=>_.path.toLowerCase().includes(g)||_.method.toLowerCase().includes(g)||_.url.toLowerCase().includes(g)||_.operationId&&_.operationId.toLowerCase().includes(g))}return v.sort((g,_)=>_.timestamp-g.timestamp)}),y=d=>e.value.find(v=>v.id===d),m=(d=10)=>L(()=>[...e.value].sort((v,g)=>g.timestamp-v.timestamp).slice(0,d)),h=()=>L(()=>{const d=e.value.length,v=e.value.filter(x=>!x.error&&x.status&&x.status>=200&&x.status<300).length,g=e.value.filter(x=>x.error||x.status&&x.status>=400).length,_=e.value.filter(x=>x.duration!==void 0).reduce((x,w)=>x+(w.duration||0),0)/e.value.filter(x=>x.duration!==void 0).length||0;return{total:d,successful:v,errors:g,avgDuration:Math.round(_)}});return o(),{history:e,addRequest:i,removeRequest:f,clearHistory:n,clearHistoryOlderThan:p,getFilteredHistory:u,getRequestById:y,getRecentRequests:m,getStatistics:h}}),cs={class:"space-y-2"},ds={class:"mt-2 space-y-2 animate-in slide-in-from-top-2 duration-200"},us={class:"flex flex-wrap gap-1.5"},ps=["onClick"],fs={key:0},hs=["value"],ms=se({__name:"RequestHistoryView",props:{selectedItem:{}},emits:["select"],setup(t,{expose:e,emit:o}){const s=yt(),{history:i}=Ee(s);Ae();const f=R(!1),n=R(new Set(["GET","POST","PUT","DELETE","PATCH"])),p=R("all"),u=R("all"),y=["GET","POST","PUT","DELETE","PATCH"],m=L(()=>{const _=new Set,x=i.value;return Array.isArray(x)&&x.forEach(w=>{w.specTitle&&_.add(w.specTitle)}),Array.from(_)}),h=L(()=>{const _=d.value,x=_.length,w=_.filter(S=>!S.error&&S.status&&S.status>=200&&S.status<300).length,M=_.filter(S=>S.error||S.status&&S.status>=400).length,W=_.filter(S=>S.duration!==void 0).reduce((S,$)=>S+($.duration||0),0)/_.filter(S=>S.duration!==void 0).length||0;return{total:x,successful:w,errors:M,avgDuration:Math.round(W)}}),d=L(()=>{const _={};n.value.size<y.length,p.value==="success"||(p.value==="error"?_.error=!0:p.value!=="all"&&!isNaN(Number(p.value))&&(_.status=Number(p.value))),u.value!=="all"&&(_.specTitle=u.value);const x=i.value;if(!Array.isArray(x))return[];let w=s.getFilteredHistory(_).value;return n.value.size<y.length&&(w=w.filter(M=>n.value.has(M.method.toUpperCase()))),p.value==="success"&&(w=w.filter(M=>!M.error&&M.status&&M.status>=200&&M.status<300)),w}),v=_=>{const x=new Set(n.value);x.has(_)?x.delete(_):x.add(_),n.value=x},g=()=>{n.value=new Set(["GET","POST","PUT","DELETE","PATCH"]),p.value="all",u.value="all"};return e({get filteredHistory(){return d.value},get stats(){return h.value},filteredHistoryRef:d,statsRef:h}),(_,x)=>(b(),C("div",cs,[a("div",null,[a("button",{onClick:x[0]||(x[0]=w=>f.value=!f.value),class:"w-full flex items-center justify-between py-1.5 text-xs font-medium text-sidebar-foreground/70 hover:text-sidebar-foreground transition-colors"},[x[3]||(x[3]=a("span",null,"Filters",-1)),V(T(Fe),{class:B(["h-3.5 w-3.5 transition-transform duration-200",f.value?"rotate-180":""])},null,8,["class"])]),ke(a("div",ds,[a("div",null,[x[4]||(x[4]=a("label",{class:"text-xs text-sidebar-foreground/70 mb-1.5 block"},"Method",-1)),a("div",us,[(b(),C(K,null,Z(y,w=>a("button",{key:w,class:B(["px-2.5 py-1 text-xs font-bold rounded transition-all text-white",n.value.has(w)?T(ue)(w):`${T(ue)(w)} opacity-50 hover:opacity-75`]),onClick:M=>v(w)},P(w),11,ps)),64))])]),a("div",null,[x[6]||(x[6]=a("label",{class:"text-xs text-sidebar-foreground/70 mb-1.5 block"},"Status",-1)),ke(a("select",{"onUpdate:modelValue":x[1]||(x[1]=w=>p.value=w),class:"w-full h-8 rounded-md border border-sidebar-border bg-sidebar px-2 text-xs text-sidebar-foreground focus:outline-none focus:ring-1 focus:ring-primary"},[...x[5]||(x[5]=[Nt('<option value="all">All statuses</option><option value="success">Success (2xx)</option><option value="error">Errors (4xx, 5xx)</option><option value="200">200 OK</option><option value="201">201 Created</option><option value="400">400 Bad Request</option><option value="401">401 Unauthorized</option><option value="404">404 Not Found</option><option value="500">500 Server Error</option>',9)])],512),[[He,p.value]])]),m.value.length>1?(b(),C("div",fs,[x[8]||(x[8]=a("label",{class:"text-xs text-sidebar-foreground/70 mb-1.5 block"},"Specification",-1)),ke(a("select",{"onUpdate:modelValue":x[2]||(x[2]=w=>u.value=w),class:"w-full h-8 rounded-md border border-sidebar-border bg-sidebar px-2 text-xs text-sidebar-foreground focus:outline-none focus:ring-1 focus:ring-primary"},[x[7]||(x[7]=a("option",{value:"all"},"All specifications",-1)),(b(!0),C(K,null,Z(m.value,w=>(b(),C("option",{key:w,value:w},P(w),9,hs))),128))],512),[[He,u.value]])])):O("",!0),a("button",{onClick:g,class:"w-full px-3 py-1.5 text-xs rounded-md border border-sidebar-border bg-sidebar hover:bg-sidebar-accent text-sidebar-foreground transition-colors"}," Clear Filters ")],512),[[pt,f.value]])])]))}});function xt(t,e,o,s){const i=t.operations.filter(n=>{if(!o.has(n.method))return!1;if(e!=="all"){const p=gt({method:n.method,path:n.path},s);if(e==="private"&&!p||e==="public"&&p)return!1}return!0}),f=new Map;for(const[n,p]of t.children.entries()){const u=xt(p,e,o,s);u&&(u.operations.length>0||u.children.size>0)&&f.set(n,u)}return i.length>0||f.size>0?{...t,operations:i,children:f}:null}const vs={class:"p-4 border-b border-sidebar-border"},gs={class:"flex items-center justify-between mb-3"},bs={class:"flex items-center gap-2"},ys=["src"],xs={href:"https://github.com/quonaro/Specula",target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center justify-center p-1.5 rounded-md text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent transition-colors",title:"GitHub Repository"},ks={class:"flex gap-1 mb-3 p-1 bg-sidebar-accent/30 rounded-md"},Ss={key:0,class:"space-y-2"},ws={class:"mt-2 space-y-2 animate-in slide-in-from-top-2 duration-200"},$s={class:"flex flex-wrap gap-1.5"},Cs=["onClick"],_s={class:"p-2 space-y-1"},Ts={key:0,class:"p-4 text-center text-sm text-muted-foreground"},Es={key:0},Is={key:1},Ps=["onClick"],As={class:"flex flex-col gap-1 shrink-0"},Os={class:"flex-1 min-w-0"},Us=["title"],Ns={class:"flex items-center gap-2 mt-0.5"},js={key:0,class:"text-xs text-sidebar-foreground/60"},Rs={class:"flex flex-col gap-0.5"},Ls={class:"text-xs text-sidebar-foreground/60"},Ms={class:"text-xs text-sidebar-foreground/40"},zs={class:"p-2"},Vs={key:0},Hs={key:0,class:"p-4 text-center text-sm text-muted-foreground"},Ds={key:2,class:"border-t border-sidebar-border p-4"},qs={class:"grid grid-cols-2 gap-2 text-xs"},Bs={class:"text-sidebar-foreground font-medium"},Fs={class:"text-green-500 font-medium"},Ws={class:"text-red-500 font-medium"},Gs={class:"text-sidebar-foreground font-medium"},Js={key:3,class:"border-t border-sidebar-border p-3 gap-2 flex flex-col mt-auto bg-sidebar z-10"},Ks={class:"flex gap-2"},ze=200,Ve=800,Xs=se({__name:"Sidebar",props:{root:{},selectedOperation:{}},emits:["operationSelect","groupSelect","historySelect"],setup(t,{emit:e}){const o=t,s=L(()=>at()),i=e,f=R(320),n=R(!1),p=()=>{n.value=!0,document.addEventListener("mousemove",u),document.addEventListener("mouseup",y),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},u=c=>{if(!n.value)return;let r=c.clientX;r<ze&&(r=ze),r>Ve&&(r=Ve),f.value=r},y=()=>{n.value=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",y),document.body.style.cursor="",document.body.style.userSelect="",localStorage.setItem("sidebarWidth",String(f.value))},m=R("endpoints"),h=R(new Set),d=R(!1),v=R("all"),g=R(new Set(["GET","POST","PUT","DELETE","PATCH"])),_=R(null),x=R(null),w=Ae(),{specs:M}=Ee(w),W=yt(),{history:S}=Ee(W),$=["GET","POST","PUT","DELETE","PATCH"],I=c=>{const r=new Set(g.value);r.has(c)?r.delete(c):r.add(c),g.value=r},U=()=>{g.value=new Set(["GET","POST","PUT","DELETE","PATCH"]),v.value="all",v.value="all"},G=()=>{h.value=new Set},J=()=>{const c=new Set,r=l=>{l.name!=="root"&&c.add(l.fullPath),l.children.forEach(k=>r(k))};o.root.children.forEach(l=>r(l)),h.value=c},Q=L(()=>{let c=0;const r=l=>{l.name!=="root"&&c++,l.children.forEach(r)};return o.root.children.forEach(r),c}),Y=L(()=>Q.value>0&&h.value.size>=Q.value),ie=L(()=>h.value.size===0),oe=L(()=>{const c=o.root.children;return Array.from(c.values())}),ve=L(()=>{let c=oe.value;if(v.value!=="all"||g.value.size<$.length){const r=[];for(const l of c){const k=xt(l,v.value,g.value,M.value);k&&(k.operations.length>0||k.children.size>0)&&r.push(k)}c=r}return c});ct(()=>{const c=localStorage.getItem("expandedNodes");c&&(h.value=new Set(JSON.parse(c)));const r=localStorage.getItem("sidebarWidth");if(r){const l=parseInt(r);!isNaN(l)&&l>=ze&&l<=Ve&&(f.value=l)}}),Be(()=>{n.value&&y()});let pe=null;const we=()=>{localStorage.setItem("expandedNodes",JSON.stringify(Array.from(h.value)))};le(()=>Array.from(h.value).sort().join(","),()=>{pe&&clearTimeout(pe),pe=setTimeout(we,300)},{flush:"post"});const Ue=c=>{const r=h.value,l=new Set;r.forEach(k=>l.add(k)),l.has(c)?l.delete(c):l.add(c),h.value=l},Ne=(c,r)=>{i("operationSelect",c,r)},je=c=>{i("groupSelect",c)},$e=c=>{_.value=c,i("historySelect",c)},fe=L(()=>{const c=x.value;if(c){let l=null;if(c.filteredHistoryRef&&typeof c.filteredHistoryRef=="object"&&"value"in c.filteredHistoryRef?l=c.filteredHistoryRef.value:typeof c.filteredHistory<"u"&&(l=c.filteredHistory),l!==null&&Array.isArray(l))return l}const r=S.value;return Array.isArray(r)?[...r].sort((l,k)=>k.timestamp-l.timestamp):[]}),de=L(()=>{const c=x.value;if(c){let r=null;if(c.statsRef&&typeof c.statsRef=="object"&&"value"in c.statsRef?r=c.statsRef.value:typeof c.stats<"u"&&(r=c.stats),r!==null)return r}return W.getStatistics().value}),Re=c=>{const r=new Date(c),k=new Date().getTime()-r.getTime(),E=Math.floor(k/1e3),A=Math.floor(E/60),N=Math.floor(A/60),j=Math.floor(N/24);return j>0?`${j}d ago`:N>0?`${N}h ago`:A>0?`${A}m ago`:`${E}s ago`},Le=c=>new Date(c).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),re=c=>{if(c.error&&c.errorMessage)return`Error: ${c.errorMessage}`;if(c.responseData)try{let r="";if(typeof c.responseData=="string")try{const l=JSON.parse(c.responseData);r=JSON.stringify(l,null,2)}catch{r=c.responseData}else typeof c.responseData=="object"?r=JSON.stringify(c.responseData,null,2):r=String(c.responseData);return r}catch{return"[Unable to format response]"}return"No response data"};return(c,r)=>(b(),C("div",{class:"border-r border-sidebar-border bg-sidebar h-screen flex flex-col relative flex-shrink-0",style:X({width:`${f.value}px`})},[a("div",vs,[a("div",gs,[a("div",bs,[a("img",{src:s.value,alt:"Logo",class:"h-8 logo-image"},null,8,ys),r[4]||(r[4]=a("span",{class:"text-lg font-semibold text-sidebar-foreground"},"Specula",-1))]),a("a",xs,[V(T(Vt),{class:"h-4 w-4"})])]),a("div",ks,[a("button",{class:B(["flex-1 px-3 py-1.5 text-xs font-medium rounded transition-colors",m.value==="endpoints"?"bg-sidebar-accent text-sidebar-foreground shadow-sm":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/50"]),onClick:r[0]||(r[0]=l=>m.value="endpoints")}," Endpoints ",2),a("button",{class:B(["flex-1 px-3 py-1.5 text-xs font-medium rounded transition-colors",m.value==="history"?"bg-sidebar-accent text-sidebar-foreground shadow-sm":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/50"]),onClick:r[1]||(r[1]=l=>m.value="history")}," History ",2)]),m.value==="endpoints"?(b(),C("div",Ss,[a("div",null,[a("button",{onClick:r[2]||(r[2]=l=>d.value=!d.value),class:"w-full flex items-center justify-between py-1.5 text-xs font-medium text-sidebar-foreground/70 hover:text-sidebar-foreground transition-colors"},[r[5]||(r[5]=a("span",null,"Filters",-1)),V(T(Fe),{class:B(["h-3.5 w-3.5 transition-transform duration-200",d.value?"rotate-180":""])},null,8,["class"])]),ke(a("div",ws,[a("div",null,[r[7]||(r[7]=a("label",{class:"text-xs text-sidebar-foreground/70 mb-1.5 block"},"Security",-1)),ke(a("select",{"onUpdate:modelValue":r[3]||(r[3]=l=>v.value=l),class:"w-full h-8 rounded-md border border-sidebar-border bg-sidebar px-2 text-xs text-sidebar-foreground focus:outline-none focus:ring-1 focus:ring-primary"},[...r[6]||(r[6]=[a("option",{value:"all"},"All security",-1),a("option",{value:"private"},"Protected only",-1),a("option",{value:"public"},"Public only",-1)])],512),[[He,v.value]])]),a("div",null,[r[8]||(r[8]=a("label",{class:"text-xs text-sidebar-foreground/70 mb-1.5 block"},"Method",-1)),a("div",$s,[(b(),C(K,null,Z($,l=>a("button",{key:l,class:B(["px-2.5 py-1 text-xs font-bold rounded transition-all text-white",g.value.has(l)?T(ue)(l):`${T(ue)(l)} opacity-50 hover:opacity-75`]),onClick:k=>I(l)},P(l),11,Cs)),64))])]),a("button",{onClick:U,class:"w-full px-3 py-1.5 text-xs rounded-md border border-sidebar-border bg-sidebar hover:bg-sidebar-accent text-sidebar-foreground transition-colors"}," Clear Filters ")],512),[[pt,d.value]])])])):(b(),H(ms,{key:1,ref_key:"historyViewRef",ref:x,"selected-item":_.value,onSelect:$e},null,8,["selected-item"]))]),m.value==="history"?(b(),H(Ze,{key:0,class:"flex-1"},{default:F(()=>[a("div",_s,[fe.value.length===0?(b(),C("div",Ts,[!T(S)||T(S).length===0?(b(),C("p",Es,"No requests yet")):(b(),C("p",Is,"No requests match the filters"))])):O("",!0),(b(!0),C(K,null,Z(fe.value,l=>(b(),C("div",{key:l.id,class:B(["group flex items-start gap-2 p-2 rounded-md cursor-pointer transition-colors",_.value?.id===l.id?"bg-sidebar-accent":"hover:bg-sidebar-accent/50"]),onClick:k=>$e(l)},[a("div",As,[a("span",{class:B(["text-xs font-bold px-2 py-0.5 rounded text-white w-14 text-center",T(ue)(l.method)])},P(l.method),3),l.status||l.error?(b(),H(bt,{key:0,content:re(l),position:"right",delay:300},{default:F(()=>[a("span",{class:B(["text-xs font-bold px-2 py-0.5 rounded text-white w-14 text-center cursor-help",l.error?"bg-red-600":T(Qt)(l.status||0)])},P(l.status||"ERR"),3)]),_:2},1032,["content"])):O("",!0)]),a("div",Os,[a("div",{class:"text-sm font-medium text-sidebar-foreground truncate",title:l.path},P(l.path),9,Us),a("div",Ns,[l.duration?(b(),C("span",js,P(l.duration)+"ms ",1)):O("",!0),a("div",Rs,[a("span",Ls,P(Re(l.timestamp)),1),a("span",Ms,P(Le(l.timestamp)),1)])])])],10,Ps))),128))])]),_:1})):O("",!0),m.value==="endpoints"?(b(),H(Ze,{key:1,class:"flex-1"},{default:F(()=>[a("div",zs,[t.root.name==="root"?(b(),C("div",Vs,[(b(!0),C(K,null,Z(ve.value,l=>(b(),C("div",{key:l.fullPath},[V(is,{node:l,level:0,"expanded-nodes":h.value,"selected-operation":t.selectedOperation,onToggleNode:Ue,onSelectOperation:Ne,onSelectGroup:je},null,8,["node","expanded-nodes","selected-operation"])]))),128)),(v.value!=="all"||g.value.size<$.length)&&ve.value.length===0?(b(),C("div",Hs," No results found ")):O("",!0)])):O("",!0)])]),_:1})):O("",!0),m.value==="history"&&de.value&&de.value.total>0?(b(),C("div",Ds,[a("div",qs,[a("div",null,[r[9]||(r[9]=a("div",{class:"text-sidebar-foreground/70"},"Total",-1)),a("div",Bs,P(de.value.total),1)]),a("div",null,[r[10]||(r[10]=a("div",{class:"text-sidebar-foreground/70"},"Success",-1)),a("div",Fs,P(de.value.successful),1)]),a("div",null,[r[11]||(r[11]=a("div",{class:"text-sidebar-foreground/70"},"Errors",-1)),a("div",Ws,P(de.value.errors),1)]),a("div",null,[r[12]||(r[12]=a("div",{class:"text-sidebar-foreground/70"},"Avg Time",-1)),a("div",Gs,P(de.value.avgDuration)+"ms",1)])])])):O("",!0),m.value==="endpoints"?(b(),C("div",Js,[a("div",Ks,[a("button",{onClick:J,class:B(["flex-1 px-3 py-1.5 text-xs rounded-md border transition-colors",Y.value?"bg-sidebar-accent text-sidebar-foreground shadow-inner border-sidebar-accent font-medium":"border-sidebar-border bg-sidebar hover:bg-sidebar-accent text-sidebar-foreground"])}," Expand All ",2),a("button",{onClick:G,class:B(["flex-1 px-3 py-1.5 text-xs rounded-md border transition-colors",ie.value?"bg-sidebar-accent text-sidebar-foreground shadow-inner border-sidebar-accent font-medium":"border-sidebar-border bg-sidebar hover:bg-sidebar-accent text-sidebar-foreground"])}," Collapse ",2)]),r[13]||(r[13]=a("div",{class:"text-[10px] text-sidebar-foreground/50 text-center italic"}," Tip: Hover endpoints for details ",-1))])):O("",!0),a("div",{class:"absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-primary/50 transition-colors z-50 select-none",onMousedown:p},null,32)],4))}}),Zs={class:"relative z-10 bg-card border border-border rounded-lg shadow-lg max-w-lg w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col"},Qs={key:0,class:"flex items-center justify-between p-6 border-b border-border"},Ys={key:0,class:"text-lg font-semibold text-foreground"},eo={class:"flex-1 overflow-y-auto p-6"},to={key:1,class:"border-t border-border p-6"},so=se({__name:"Dialog",props:{modelValue:{type:Boolean},title:{},showCloseButton:{type:Boolean,default:!0},closeOnBackdrop:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,s=e,i=()=>{s("update:modelValue",!1)},f=()=>{o.closeOnBackdrop&&i()};return(n,p)=>(b(),H(ut,{to:"body"},[V(dt,{name:"dialog"},{default:F(()=>[t.modelValue?(b(),C("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center",onClick:De(f,["self"])},[p[0]||(p[0]=a("div",{class:"fixed inset-0 bg-black/50"},null,-1)),a("div",Zs,[n.$slots.header||t.title?(b(),C("div",Qs,[me(n.$slots,"header",{},()=>[t.title?(b(),C("h2",Ys,P(t.title),1)):O("",!0)],!0),t.showCloseButton?(b(),C("button",{key:0,onClick:i,class:"text-muted-foreground hover:text-foreground transition-colors"},[V(T(Ht),{class:"h-5 w-5"})])):O("",!0)])):O("",!0),a("div",eo,[me(n.$slots,"default",{},void 0,!0)]),n.$slots.footer?(b(),C("div",to,[me(n.$slots,"footer",{},void 0,!0)])):O("",!0)])])):O("",!0)]),_:3})]))}}),oo=(t,e)=>{const o=t.__vccOpts||t;for(const[s,i]of e)o[s]=i;return o},Oe=oo(so,[["__scopeId","data-v-2b5ae1e0"]]);class kt{spec;resolving;refCache;objectCache;constructor(e){this.spec=e,this.resolving=new Set,this.refCache=new Map,this.objectCache=new WeakMap}resolve(e){if(!e||typeof e!="object")return e;if(this.objectCache.has(e))return this.objectCache.get(e);if(e.$ref){const i=this.resolveRef(e.$ref);return this.objectCache.set(e,i),i}if(Array.isArray(e)){if(!e.some(n=>n&&typeof n=="object"&&n.$ref))return this.objectCache.set(e,e),e;const f=e.map(n=>this.resolve(n));return this.objectCache.set(e,f),f}if(!this.hasNestedRef(e))return this.objectCache.set(e,e),e;const s={};for(const[i,f]of Object.entries(e))i!=="$ref"&&(s[i]=this.resolve(f));return this.objectCache.set(e,s),s}hasNestedRef(e,o=0){if(o>3||!e||typeof e!="object")return!1;if(e.$ref)return!0;if(Array.isArray(e)){const f=Math.min(e.length,10);for(let n=0;n<f;n++)if(this.hasNestedRef(e[n],o+1))return!0;return!1}let s=0;const i=20;for(const f of Object.values(e)){if(s++>=i)break;if(f&&typeof f=="object"&&(f.$ref||o<2&&this.hasNestedRef(f,o+1)))return!0}return!1}resolveRef(e){if(this.refCache.has(e))return this.refCache.get(e);if(this.resolving.has(e)){const o={$ref:e,__circular:!0};return this.refCache.set(e,o),o}this.resolving.add(e);try{const o=e.split("/");if(o[0]!=="#"){const f={$ref:e,__external:!0};return this.refCache.set(e,f),f}let s=this.spec;for(let f=1;f<o.length;f++){const n=o[f];if(!s||typeof s!="object"){const p={$ref:e,__notFound:!0};return this.refCache.set(e,p),p}s=s[n]}if(!s){const f={$ref:e,__notFound:!0};return this.refCache.set(e,f),f}const i=s.$ref?this.resolveRef(s.$ref):s;return this.refCache.set(e,i),i}finally{this.resolving.delete(e)}}clearCache(){this.refCache.clear(),this.objectCache=new WeakMap}static hasRef(e){return e&&typeof e=="object"&&"$ref"in e}static getRefName(e){const o=e.split("/");return o[o.length-1]}}function et(t,e){const o=new kt(t),s={info:{name:t.info.title||"API Collection",description:t.info.description,schema:"https://schema.getpostman.com/json/collection/v2.1.0/collection.json",_exporter_id:"specula-openapi-exporter"},item:[]};if(t.servers&&t.servers.length>0){s.variable=[];const n=t.servers[0];new URL(n.url),s.variable.push({key:"baseUrl",value:n.url,type:"string"}),n.variables&&Object.entries(n.variables).forEach(([p,u])=>{s.variable.push({key:p,value:u.default,type:"string"})})}const i=lo(t,e);i&&(s.auth=i);const f=new Map;if(Object.entries(t.paths).forEach(([n,p])=>{["get","post","put","delete","patch","options","head","trace"].forEach(y=>{const m=p[y];if(!m)return;(m.tags||["Untagged"]).forEach(d=>{f.has(d)||f.set(d,[]),f.get(d).push({path:n,method:y.toUpperCase(),operation:m})})})}),f.forEach((n,p)=>{const u=n.map(({path:y,method:m,operation:h})=>tt(t,y,m,h,o,e));u.length===1&&!u[0].item?s.item.push(u[0]):s.item.push({name:p,description:t.tags?.find(y=>y.name===p)?.description,item:u})}),t.webhooks){const n=[];Object.entries(t.webhooks).forEach(([p,u])=>{["get","post","put","delete","patch","options","head","trace"].forEach(m=>{const h=u[m];h&&n.push(tt(t,p,m,h,o,e,!0))})}),n.length>0&&s.item.push({name:"Webhooks",item:n})}return s}function tt(t,e,o,s,i,f,n=!1){Se(s,o,e);const p=We(s,void 0,t),u=t.servers?.[0]?.url||"http://localhost",y=ro(u,e,s,i),m=no(s,i),h=ao(s,i),d=io(p,t,f),v={method:o.toUpperCase(),header:m.length>0?m:void 0,url:y,description:s.description,auth:d};return h&&(v.body=h),{name:s.summary||s.operationId||`${o.toUpperCase()} ${e}`,request:v,description:s.description||s.summary}}function ro(t,e,o,s){const i=new URL(t),f=[],n=[];e.split("/").forEach(m=>{if(m.startsWith("{")&&m.endsWith("}")){const h=m.slice(1,-1);f.push(`:${h}`)}else m&&f.push(m)}),(o.parameters||[]).forEach(m=>{const h=s.resolve(m);h.in==="query"&&n.push({key:h.name,value:h.example!==void 0?String(h.example):"",description:h.description,disabled:!h.required})});let y=t;if(y.endsWith("/")||(y+="/"),y+=e.replace(/\/+/g,"/").replace(/^\//,""),n.length>0){const m=n.filter(h=>!h.disabled&&h.value).map(h=>`${encodeURIComponent(h.key)}=${encodeURIComponent(h.value||"")}`).join("&");m&&(y+="?"+m)}return{raw:y,protocol:i.protocol.replace(":",""),host:i.host.split("."),path:f,query:n.length>0?n:void 0}}function no(t,e,o,s,i){const f=[];return(t.parameters||[]).forEach(p=>{const u=e.resolve(p);u.in==="header"&&f.push({key:u.name,value:u.example!==void 0?String(u.example):"",description:u.description,disabled:!u.required})}),f}function ao(t,e){if(!t.requestBody)return;const o=e.resolve(t.requestBody);if(!o.content)return;const s=o.content["application/json"];if(s){let n="";if(s.example)n=JSON.stringify(s.example,null,2);else if(s.schema){const p=wt(s.schema,e);p&&(n=JSON.stringify(p,null,2))}return{mode:"raw",raw:n||"{}",options:{raw:{language:"json"}}}}const i=o.content["application/x-www-form-urlencoded"];if(i){const n=[];return i.schema?.properties&&Object.entries(i.schema.properties).forEach(([p,u])=>{n.push({key:p,value:u.example!==void 0?String(u.example):"",description:u.description,disabled:!i.schema.required?.includes(p)})}),{mode:"urlencoded",urlencoded:n}}const f=o.content["multipart/form-data"];if(f){const n=[];return f.schema?.properties&&Object.entries(f.schema.properties).forEach(([p,u])=>{const y=u.type==="string"&&(u.format==="binary"||u.format==="base64");n.push({key:p,value:y?"":u.example!==void 0?String(u.example):"",type:y?"file":"text",description:u.description,disabled:!f.schema.required?.includes(p)})}),{mode:"formdata",formdata:n}}}function lo(t,e){if(!t.components?.securitySchemes||!t.security)return;const o=t.security[0],s=Object.keys(o)[0],i=t.components.securitySchemes[s];if(i)return St(i,s,e?.[s])}function io(t,e,o){if(!t||t.length===0)return;const s=t[0],i=Object.keys(s)[0],f=e.components?.securitySchemes?.[i];if(f)return St(f,i,o?.[i])}function St(t,e,o){switch(t.type){case"apiKey":return t.in==="query"?void 0:{type:"apikey",apikey:[{key:"key",value:t.name||e,type:"string"},{key:"value",value:o||"",type:"string"},{key:"in",value:t.in==="header"?"header":"query",type:"string"}]};case"http":{const s=t.scheme?.toLowerCase()||"bearer";return s==="bearer"?{type:"bearer",bearer:[{key:"token",value:o||"",type:"string"}]}:s==="basic"?{type:"basic",basic:[{key:"username",value:o?o.split(":")[0]:"",type:"string"},{key:"password",value:o&&o.split(":")[1]||"",type:"string"}]}:void 0}case"oauth2":return{type:"oauth2",oauth2:[{key:"accessToken",value:o||"",type:"string"}]};case"openIdConnect":return{type:"oauth2",oauth2:[{key:"accessToken",value:o||"",type:"string"}]};default:return}}function wt(t,e){const o=e.resolve(t);if(o.example!==void 0)return o.example;if(o.default!==void 0)return o.default;switch(o.type){case"string":return"";case"number":case"integer":return 0;case"boolean":return!1;case"array":return[];case"object":const s={};return o.properties&&Object.keys(o.properties).forEach(i=>{const f=o.properties[i];s[i]=wt(f,e)}),s;default:return null}}function st(t,e){const o=[],s=new kt(t),i=Date.now(),f=ce();if(o.push({_id:f,_type:"workspace",_parentId:null,modified:i,created:i,name:t.info.title||"API Collection",description:t.info.description}),t.servers&&t.servers.length>0){const p=ce(),u=t.servers[0],y={};y.base_url=u.url,u.variables&&Object.entries(u.variables).forEach(([m,h])=>{y[m]=h.default}),o.push({_id:p,_type:"environment",_parentId:f,modified:i,created:i,name:"Base Environment",data:y,color:null,isPrivate:!1,metaSortKey:i})}const n=new Map;if(Object.entries(t.paths).forEach(([p,u])=>{["get","post","put","delete","patch","options","head","trace"].forEach(m=>{const h=u[m];if(!h)return;(h.tags||["Untagged"]).forEach(v=>{n.has(v)||n.set(v,[]),n.get(v).push({path:p,method:m.toUpperCase(),operation:h})})})}),n.forEach((p,u)=>{const y=ce();o.push({_id:y,_type:"request_group",_parentId:f,modified:i,created:i,name:u,description:t.tags?.find(m=>m.name===u)?.description}),p.forEach(({path:m,method:h,operation:d})=>{const v=ot(t,m,h,d,s,y,i,e);o.push(v)})}),t.webhooks){const p=ce();o.push({_id:p,_type:"request_group",_parentId:f,modified:i,created:i,name:"Webhooks"}),Object.entries(t.webhooks).forEach(([u,y])=>{["get","post","put","delete","patch","options","head","trace"].forEach(h=>{const d=y[h];if(!d)return;const v=ot(t,u,h,d,s,p,i,e,!0);o.push(v)})})}return{_type:"export",__export_format:4,__export_date:new Date().toISOString(),__export_source:"specula-openapi-exporter",resources:o}}function ot(t,e,o,s,i,f,n,p,u=!1){Se(s,o,e);const y=We(s,void 0,t),m=t.servers?.[0]?.url||"http://localhost",h=co(m,e),d=uo(s,i),v=po(s,i),g=fo(s,i),_=ho(y,t,p);return{_id:ce(),_type:"request",_parentId:f,modified:n,created:n,name:s.summary||s.operationId||`${o.toUpperCase()} ${e}`,description:s.description||s.summary,url:h,method:o.toUpperCase(),headers:d.length>0?d:void 0,parameters:v.length>0?v:void 0,body:g,authentication:_,settingStoreCookies:!0,settingSendCookies:!0,settingDisableRenderRequestBody:!1,settingEncodeUrl:!0,settingRebuildPath:!0,settingFollowRedirects:"global"}}function co(t,e){let o=e.replace(/\{([^}]+)\}/g,"{{$1}}");const s=t.endsWith("/")?t.slice(0,-1):t,i=o.startsWith("/")?o:"/"+o;return s+i}function uo(t,e,o,s,i){const f=[];return(t.parameters||[]).forEach(p=>{const u=e.resolve(p);u.in==="header"&&f.push({name:u.name,value:u.example!==void 0?String(u.example):"",description:u.description,disabled:!u.required,id:ce()})}),f}function po(t,e){const o=[];return(t.parameters||[]).forEach(i=>{const f=e.resolve(i);f.in==="query"&&o.push({name:f.name,value:f.example!==void 0?String(f.example):"",description:f.description,disabled:!f.required,id:ce()})}),o}function fo(t,e){if(!t.requestBody)return;const o=e.resolve(t.requestBody);if(!o.content)return;const s=o.content["application/json"];if(s){let n="";if(s.example)n=JSON.stringify(s.example,null,2);else if(s.schema){const p=$t(s.schema,e);p&&(n=JSON.stringify(p,null,2))}return{mimeType:"application/json",text:n||"{}"}}const i=o.content["application/x-www-form-urlencoded"];if(i){const n=[];return i.schema?.properties&&Object.entries(i.schema.properties).forEach(([p,u])=>{n.push({name:p,value:u.example!==void 0?String(u.example):"",description:u.description,disabled:!i.schema.required?.includes(p),id:ce()})}),{mimeType:"application/x-www-form-urlencoded",params:n}}const f=o.content["multipart/form-data"];if(f){const n=[];return f.schema?.properties&&Object.entries(f.schema.properties).forEach(([p,u])=>{const y=u.type==="string"&&(u.format==="binary"||u.format==="base64");n.push({name:p,value:y?"":u.example!==void 0?String(u.example):"",description:u.description,disabled:!f.schema.required?.includes(p),id:ce(),type:y?"file":"text"})}),{mimeType:"multipart/form-data",params:n}}}function ho(t,e,o){if(!t||t.length===0)return;const s=t[0],i=Object.keys(s)[0],f=e.components?.securitySchemes?.[i];if(f)return mo(f,i,o?.[i])}function mo(t,e,o){switch(t.type){case"apiKey":return t.in==="header"?{type:"apikey",key:t.name||e,value:o||"",addTo:t.in==="header"?"header":"query"}:void 0;case"http":{const s=t.scheme?.toLowerCase()||"bearer";if(s==="bearer")return{type:"bearer",token:o||"",prefix:t.bearerFormat||"Bearer"};if(s==="basic"){const i=o?o.split(":"):[];return{type:"basic",username:i[0]||"",password:i[1]||""}}return s==="digest"?{type:"digest",username:o?o.split(":")[0]:"",password:o&&o.split(":")[1]||""}:void 0}case"oauth2":return{type:"oauth2",grantType:"authorization_code",accessToken:o||""};case"openIdConnect":return{type:"oauth2",grantType:"authorization_code",accessToken:o||""};default:return}}function $t(t,e){const o=e.resolve(t);if(o.example!==void 0)return o.example;if(o.default!==void 0)return o.default;switch(o.type){case"string":return"";case"number":case"integer":return 0;case"boolean":return!1;case"array":return[];case"object":const s={};return o.properties&&Object.keys(o.properties).forEach(i=>{const f=o.properties[i];s[i]=$t(f,e)}),s;default:return null}}function ce(){return"req_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36)}const rt="specula-authorizations",Ct=Pe("authorization",()=>{const t=R(new Map),e=()=>{try{const m=localStorage.getItem(rt);if(m){const h=JSON.parse(m),d=new Map;h.forEach(v=>{d.set(v.specId,v)}),t.value=d}}catch{t.value=new Map}},o=()=>{try{const m=Array.from(t.value.values());localStorage.setItem(rt,JSON.stringify(m))}catch{}},s=(m,h)=>{if(h)return h;const d=JSON.stringify(m);let v=0;for(let g=0;g<d.length;g++){const _=d.charCodeAt(g);v=(v<<5)-v+_,v=v&v}return`hash-${Math.abs(v).toString(16)}`},i=(m,h)=>{const d=s(m,h);return t.value.get(d)||null},f=(m,h,d,v)=>{const g=s(m,h),_=t.value.get(g),x={specId:g,credentials:{..._?.credentials||{},[d]:v},isLocked:_?.isLocked??!1};t.value.set(g,x),o()},n=(m,h,d)=>i(m,h)?.credentials[d]||"",p=(m,h)=>{const d=s(m,h),v=t.value.get(d),g={specId:d,credentials:v?.credentials||{},isLocked:!(v?.isLocked??!1)};t.value.set(d,g),o()},u=(m,h)=>i(m,h)?.isLocked??!1,y=(m,h)=>i(m,h)?.credentials||{};return e(),{authorizations:t,getCredential:n,setCredential:f,getCredentials:y,toggleLock:p,isLocked:u,loadAuthorizations:e,saveAuthorizations:o}}),vo={class:"space-y-4"},go={class:"space-y-2"},bo={class:"grid grid-cols-3 gap-2"},yo=["onClick"],xo={class:"font-medium text-sm text-foreground"},ko={class:"text-xs text-muted-foreground mt-1"},So={class:"space-y-2"},wo={class:"space-y-2 max-h-64 overflow-y-auto border border-border rounded-lg p-2"},$o=["checked","onChange"],Co={class:"flex-1 min-w-0"},_o={class:"font-medium text-sm text-foreground"},To={class:"text-xs text-muted-foreground mt-0.5"},Eo={key:0},Io={key:1},Po={key:2},Ao={key:0,class:"text-xs text-muted-foreground mt-0.5 truncate"},Oo={class:"flex items-center justify-between pt-1"},Uo={class:"text-xs font-medium text-foreground"},No={key:0,class:"text-xs text-muted-foreground bg-muted p-2 rounded"},jo={class:"flex justify-end gap-2"},Ro=se({__name:"ExportDialog",props:{modelValue:{type:Boolean},specs:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,s=e,{toast:i}=lt(),f=Ct(),n=[{value:"openapi",label:"OpenAPI",description:"Original specification"},{value:"postman",label:"Postman",description:"Postman Collection v2.1"},{value:"insomnia",label:"Insomnia",description:"Insomnia Collection v4"}],p=R("openapi"),u=R([]),y=R(!1);le(()=>o.modelValue,S=>{S&&(u.value=o.specs.map(($,I)=>I),p.value="openapi")});const m=S=>{const $=u.value.indexOf(S);$>-1?u.value.splice($,1):u.value.push(S)},h=()=>{u.value=o.specs.map((S,$)=>$)},d=()=>{u.value=[]},v=()=>{s("update:modelValue",!1)},g=S=>S.replace(/[/\\:*?"<>|]/g,"_").trim()||"export",_=async()=>{if(u.value.length!==0){y.value=!0;try{const S=u.value.map($=>o.specs[$]);p.value==="openapi"?await x(S):p.value==="postman"?await w(S):p.value==="insomnia"&&await M(S),i({title:"Export Successful",description:`Successfully exported ${S.length} specification(s) as ${n.find($=>$.value===p.value)?.label}`}),s("update:modelValue",!1)}catch(S){i({title:"Export Failed",description:S.message||"Failed to export specifications",variant:"destructive"})}finally{y.value=!1}}},x=async S=>{if(S.length===1){const $=S[0].spec,I=g($.info?.title||"openapi"),U=new Blob([JSON.stringify($,null,2)],{type:"application/json"});W(U,`${I}.json`)}else{const $=new Me,I=new Set;for(const G of S){const J=G.spec;let Q=g(J.info?.title||"openapi"),Y=`${Q}.json`,ie=1;for(;I.has(Y);)Y=`${Q}_${ie}.json`,ie++;I.add(Y);const oe=JSON.stringify(J,null,2);$.file(Y,oe)}const U=await $.generateAsync({type:"blob"});W(U,"openapi-specs.zip")}},w=async S=>{if(S.length!==0)if(S.length===1){const $=S[0],I=f.getCredentials($.spec,$.sourceUrl),U=et($.spec,I),G=g($.spec.info?.title||"collection"),J=new Blob([JSON.stringify(U,null,2)],{type:"application/json"});W(J,`${G}.postman_collection.json`)}else{const $=new Me;for(const U of S){const G=f.getCredentials(U.spec,U.sourceUrl),J=et(U.spec,G),Q=g(U.spec.info?.title||"collection"),Y=JSON.stringify(J,null,2);$.file(`${Q}.postman_collection.json`,Y)}const I=await $.generateAsync({type:"blob"});W(I,"postman-collections.zip")}},M=async S=>{if(S.length!==0)if(S.length===1){const $=S[0],I=f.getCredentials($.spec,$.sourceUrl),U=st($.spec,I),G=g($.spec.info?.title||"collection"),J=new Blob([JSON.stringify(U,null,2)],{type:"application/json"});W(J,`${G}.insomnia.json`)}else{const $=new Me;for(const U of S){const G=f.getCredentials(U.spec,U.sourceUrl),J=st(U.spec,G),Q=g(U.spec.info?.title||"collection"),Y=JSON.stringify(J,null,2);$.file(`${Q}.insomnia.json`,Y)}const I=await $.generateAsync({type:"blob"});W(I,"insomnia-collections.zip")}},W=(S,$)=>{const I=URL.createObjectURL(S),U=document.createElement("a");U.href=I,U.download=$,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(I)};return(S,$)=>(b(),H(Oe,{"model-value":t.modelValue,"onUpdate:modelValue":$[0]||($[0]=I=>S.$emit("update:modelValue",I)),title:"Export Specifications","close-on-backdrop":!1},{footer:F(()=>[a("div",jo,[V(ae,{variant:"outline",onClick:v},{default:F(()=>[...$[5]||($[5]=[ee(" Cancel ",-1)])]),_:1}),V(ae,{disabled:u.value.length===0||y.value,onClick:_},{default:F(()=>[y.value?(b(),C(K,{key:0},[ee(" Exporting... ")],64)):(b(),C(K,{key:1},[ee(" Export ")],64))]),_:1},8,["disabled"])])]),default:F(()=>[a("div",vo,[$[4]||($[4]=a("p",{class:"text-sm text-muted-foreground"}," Select the specifications and export format. Export to Postman Collection or Insomnia Collection, or download original OpenAPI specifications. ",-1)),a("div",go,[$[1]||($[1]=a("label",{class:"text-sm font-medium text-foreground"},"Export Format",-1)),a("div",bo,[(b(),C(K,null,Z(n,I=>a("button",{key:I.value,onClick:U=>p.value=I.value,class:B(["p-3 border rounded-lg text-left transition-colors",p.value===I.value?"border-primary bg-primary/10":"border-border hover:bg-accent/50"])},[a("div",xo,P(I.label),1),a("div",ko,P(I.description),1)],10,yo)),64))])]),a("div",So,[$[2]||($[2]=a("label",{class:"text-sm font-medium text-foreground"},"Specifications",-1)),a("div",wo,[(b(!0),C(K,null,Z(t.specs,(I,U)=>(b(),C("label",{key:U,class:"flex items-start gap-3 p-2 rounded-lg hover:bg-accent/50 cursor-pointer transition-colors"},[a("input",{type:"checkbox",checked:u.value.includes(U),onChange:G=>m(U),class:"mt-1 rounded"},null,40,$o),a("div",Co,[a("div",_o,P(I.spec.info?.title||"Untitled Specification"),1),a("div",To,[I.spec.info?.version?(b(),C("span",Eo," Version: "+P(I.spec.info.version),1)):O("",!0),I.spec.info?.version&&I.spec.openapi?(b(),C("span",Io," â€¢ ")):O("",!0),I.spec.openapi?(b(),C("span",Po," OpenAPI "+P(I.spec.openapi),1)):O("",!0)]),I.sourceUrl?(b(),C("div",Ao,P(I.sourceUrl),1)):O("",!0)])]))),128))]),a("div",Oo,[a("div",{class:"text-xs text-muted-foreground"},[a("button",{onClick:h,class:"text-primary hover:underline mr-3"}," Select All "),a("button",{onClick:d,class:"text-primary hover:underline"}," Deselect All ")]),a("div",Uo,P(u.value.length)+" selected ",1)])]),p.value==="postman"||p.value==="insomnia"?(b(),C("div",No,[a("p",null,[$[3]||($[3]=a("strong",null,"Note:",-1)),ee(" When exporting to "+P(p.value==="postman"?"Postman":"Insomnia")+", multiple specifications will be combined into a single collection. Authorization credentials will be included if configured. ",1)])])):O("",!0)])]),_:1},8,["model-value"]))}}),Lo=se({__name:"Badge",props:{variant:{default:"default"},className:{default:""}},setup(t){const e=Jt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",none:""}},defaultVariants:{variant:"default"}});return(o,s)=>(b(),C("div",jt({class:T(nt)(T(e)({variant:t.variant}),t.className)},o.$attrs),[me(o.$slots,"default")],16))}}),Mo={class:"space-y-6"},zo={key:0,class:"space-y-4"},Vo={class:"flex items-center justify-between"},Ho={class:"flex items-center gap-2"},Do={class:"flex items-center gap-2"},qo={class:"font-medium text-foreground"},Bo={key:0,class:"text-xs text-muted-foreground mt-1"},Fo={key:0,class:"text-xs text-muted-foreground pl-6"},Wo={key:1,class:"text-center py-8 text-sm text-muted-foreground"},Go={class:"flex items-center justify-between pt-4 border-t border-border"},Jo={class:"flex items-center gap-2"},Ko={class:"flex gap-2"},Xo=se({__name:"AuthorizationSettingsDialog",props:{modelValue:{type:Boolean},spec:{},sourceUrl:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,s=Ct(),i=L(()=>o.spec.components?.securitySchemes||{}),f=g=>s.getCredential(o.spec,o.sourceUrl,g),n=(g,_)=>{s.setCredential(o.spec,o.sourceUrl,g,_)},p=()=>{s.toggleLock(o.spec,o.sourceUrl)},u=L(()=>s.isLocked(o.spec,o.sourceUrl)),y=g=>g.type==="http"?g.scheme?`HTTP ${g.scheme.toUpperCase()}`:"HTTP":g.type==="apiKey"?"API Key":g.type==="oauth2"?"OAuth2":g.type==="openIdConnect"?"OpenID Connect":g.type||"Unknown",m=g=>g.description||"",h=g=>{if(g.type==="apiKey"){const _=g.in||"header",x=g.name||"key";return`Location: ${_}, Name: ${x}`}if(g.type==="http"){if(g.scheme==="bearer")return"Format: Bearer <token>";if(g.scheme==="basic")return"Format: Basic <base64(username:password)>"}return""},d=g=>g.type==="http"&&g.scheme==="bearer"?"Enter Bearer token":g.type==="http"&&g.scheme==="basic"?"Enter Basic auth credentials (base64 encoded)":g.type==="apiKey"?`Enter ${g.name||"API key"}`:"Enter credentials",v=g=>"password";return(g,_)=>(b(),H(Oe,{"model-value":t.modelValue,"onUpdate:modelValue":_[1]||(_[1]=x=>g.$emit("update:modelValue",x)),title:"Authorization Settings","close-on-backdrop":!0},{default:F(()=>[a("div",Mo,[_[3]||(_[3]=a("p",{class:"text-sm text-muted-foreground"}," Configure global authorization credentials for this specification. These settings will be used for all operations that require authentication. ",-1)),i.value&&Object.keys(i.value).length>0?(b(),C("div",zo,[(b(!0),C(K,null,Z(Object.entries(i.value),([x,w])=>(b(),C("div",{key:x,class:"space-y-2"},[a("div",Vo,[a("div",Ho,[V(T(qe),{class:"w-4 h-4 text-primary"}),a("div",null,[a("div",Do,[a("span",qo,P(x),1),V(Lo,{variant:"outline",class:"text-xs"},{default:F(()=>[ee(P(y(w)),1)]),_:2},1024)]),m(w)?(b(),C("p",Bo,P(m(w)),1)):O("",!0)])])]),V(it,{"model-value":f(x),"onUpdate:modelValue":M=>n(x,M),placeholder:d(w),type:v(w),class:"w-full"},null,8,["model-value","onUpdate:modelValue","placeholder","type"]),h(w)?(b(),C("div",Fo,P(h(w)),1)):O("",!0)]))),128))])):(b(),C("div",Wo," No security schemes defined in this specification. ")),a("div",Go,[a("div",Jo,[V(ae,{variant:"ghost",size:"sm",onClick:p},{default:F(()=>[u.value?(b(),H(T(Dt),{key:0,class:"w-4 h-4 mr-2"})):(b(),H(T(qt),{key:1,class:"w-4 h-4 mr-2"})),ee(" "+P(u.value?"Unlock":"Lock"),1)]),_:1})]),a("div",Ko,[V(ae,{variant:"outline",onClick:_[0]||(_[0]=x=>g.$emit("update:modelValue",!1))},{default:F(()=>[..._[2]||(_[2]=[ee(" Close ",-1)])]),_:1})])])])]),_:1},8,["model-value"]))}}),Zo={class:"space-y-6"},Qo={class:"space-y-4"},Yo={class:"max-h-[500px] overflow-y-auto pr-2"},er={class:"grid grid-cols-3 sm:grid-cols-4 gap-2"},tr={class:"relative z-10"},sr={class:"flex gap-1 mb-2"},or=["onClick","onMouseenter"],rr={class:"relative z-10"},nr={class:"flex gap-1 mb-2"},ar={class:"text-xs font-medium"},lr={class:"text-[10px] text-muted-foreground mt-0.5"},ir=["onClick","onMouseenter"],cr={class:"relative z-10"},dr={class:"flex gap-1 mb-2"},ur={class:"text-xs font-medium"},pr={class:"text-[10px] text-muted-foreground mt-0.5"},fr=["onClick","onMouseenter"],hr={class:"relative z-10"},mr={class:"flex gap-1 mb-2"},vr={class:"text-xs font-medium"},gr={class:"space-y-2"},br={class:"grid grid-cols-5 gap-2"},yr=["onClick","title"],xr={key:0,class:"h-full w-full flex items-center justify-center"},kr=se({__name:"SettingsDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t){const e=Tt(),o=ft(),s=L(()=>e.customThemes);let i=null;const f=[{id:"light",name:"Light",description:"Neutral gray"},{id:"light-1",name:"Warm",description:"Cream beige"},{id:"light-2",name:"Rose",description:"Soft pink"},{id:"light-3",name:"Sky",description:"Cool blue"}],n=[{id:"dark",name:"Dark",description:"Neutral gray"},{id:"dark-1",name:"Amber",description:"Warm brown"},{id:"dark-2",name:"Ocean",description:"Blue tones"},{id:"dark-3",name:"Violet",description:"Purple tones"},{id:"deepdark",name:"Deep Dark",description:"Pure black"}],p=m=>{if(i&&(clearTimeout(i),i=null),!m){e.previewTheme(null);return}i=setTimeout(()=>{e.previewTheme(m),i=null},300)};Be(()=>{i&&clearTimeout(i)});const u=m=>{const h={system:{background:"hsl(0, 0%, 100%)",card:"hsl(0, 0%, 100%)",muted:"hsl(220, 13%, 95%)",primary:"hsl(262, 83%, 58%)",border:"hsl(220, 13%, 91%)"},light:{background:"hsl(0, 0%, 100%)",card:"hsl(0, 0%, 100%)",muted:"hsl(220, 13%, 95%)",primary:"hsl(262, 83%, 58%)",border:"hsl(220, 13%, 91%)"},"light-1":{background:"hsl(40, 20%, 98%)",card:"hsl(40, 15%, 100%)",muted:"hsl(40, 18%, 94%)",primary:"hsl(262, 83%, 58%)",border:"hsl(40, 15%, 88%)"},"light-2":{background:"hsl(340, 25%, 98%)",card:"hsl(340, 20%, 100%)",muted:"hsl(340, 22%, 94%)",primary:"hsl(262, 83%, 58%)",border:"hsl(340, 20%, 90%)"},"light-3":{background:"hsl(210, 30%, 98%)",card:"hsl(210, 25%, 100%)",muted:"hsl(210, 28%, 94%)",primary:"hsl(262, 83%, 58%)",border:"hsl(210, 25%, 88%)"},dark:{background:"hsl(220, 26%, 14%)",card:"hsl(220, 24%, 18%)",muted:"hsl(220, 17%, 24%)",primary:"hsl(262, 83%, 58%)",border:"hsl(220, 17%, 24%)"},"dark-1":{background:"hsl(30, 20%, 12%)",card:"hsl(30, 18%, 16%)",muted:"hsl(30, 15%, 22%)",primary:"hsl(262, 83%, 58%)",border:"hsl(30, 15%, 22%)"},"dark-2":{background:"hsl(220, 30%, 12%)",card:"hsl(220, 28%, 16%)",muted:"hsl(220, 25%, 22%)",primary:"hsl(262, 83%, 58%)",border:"hsl(220, 25%, 22%)"},"dark-3":{background:"hsl(270, 25%, 11%)",card:"hsl(270, 23%, 15%)",muted:"hsl(270, 20%, 20%)",primary:"hsl(262, 83%, 58%)",border:"hsl(270, 20%, 20%)"},deepdark:{background:"hsl(0, 0%, 2%)",card:"hsl(0, 0%, 5%)",muted:"hsl(0, 0%, 8%)",primary:"hsl(262, 83%, 58%)",border:"hsl(0, 0%, 12%)"}};if(m.startsWith("custom:")){if(typeof document<"u"){const d=document.documentElement,v=getComputedStyle(d);try{const g=v.getPropertyValue("--background").trim(),_=v.getPropertyValue("--card").trim(),x=v.getPropertyValue("--muted").trim(),w=v.getPropertyValue("--primary").trim(),M=v.getPropertyValue("--border").trim();if(g&&_&&x&&w&&M)return{background:`hsl(${g})`,card:`hsl(${_})`,muted:`hsl(${x})`,primary:`hsl(${w})`,border:`hsl(${M})`}}catch{}}return{background:"hsl(0, 0%, 100%)",card:"hsl(0, 0%, 100%)",muted:"hsl(220, 13%, 95%)",primary:"hsl(262, 83%, 58%)",border:"hsl(220, 13%, 91%)"}}return h[m]||h.light},y=[{name:"purple",light:"hsl(262, 83%, 58%)",dark:"hsl(262, 83%, 58%)"},{name:"blue",light:"hsl(217, 91%, 60%)",dark:"hsl(217, 91%, 70%)"},{name:"green",light:"hsl(142, 76%, 36%)",dark:"hsl(142, 76%, 46%)"},{name:"orange",light:"hsl(25, 95%, 53%)",dark:"hsl(25, 95%, 63%)"},{name:"red",light:"hsl(0, 84%, 60%)",dark:"hsl(0, 84%, 70%)"},{name:"pink",light:"hsl(330, 81%, 60%)",dark:"hsl(330, 81%, 70%)"},{name:"cyan",light:"hsl(199, 89%, 48%)",dark:"hsl(199, 89%, 58%)"},{name:"yellow",light:"hsl(45, 93%, 47%)",dark:"hsl(45, 93%, 57%)"},{name:"indigo",light:"hsl(239, 84%, 67%)",dark:"hsl(239, 84%, 77%)"},{name:"teal",light:"hsl(173, 80%, 40%)",dark:"hsl(173, 80%, 50%)"}];return(m,h)=>(b(),H(Oe,{"model-value":t.modelValue,"onUpdate:modelValue":h[6]||(h[6]=d=>m.$emit("update:modelValue",d)),title:"Settings"},{default:F(()=>[a("div",Zo,[a("div",Qo,[h[14]||(h[14]=a("label",{class:"text-sm font-medium"},"Theme",-1)),a("div",Yo,[a("div",er,[a("button",{class:B(["relative px-3 py-3 rounded-lg border-2 transition-all overflow-hidden group",T(e).theme==="system"?"border-primary bg-primary/10 shadow-sm scale-[1.02]":"border-border bg-background hover:border-primary/50"]),onClick:h[0]||(h[0]=d=>T(e).setTheme("system")),onMouseenter:h[1]||(h[1]=d=>p("system")),onMouseleave:h[2]||(h[2]=d=>p(null))},[h[9]||(h[9]=a("div",{class:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},[a("div",{class:"absolute inset-0 bg-gradient-to-br from-background via-background to-muted/30"})],-1)),a("div",tr,[a("div",sr,[a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u("system").background,borderColor:u("system").border})},null,4),a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u("system").card,borderColor:u("system").border})},null,4),a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u("system").muted,borderColor:u("system").border})},null,4)]),h[7]||(h[7]=a("div",{class:"text-xs font-medium"},"System",-1)),h[8]||(h[8]=a("div",{class:"text-[10px] text-muted-foreground mt-0.5"},"Follow system",-1))]),T(e).theme==="system"?(b(),H(T(ye),{key:0,class:"absolute top-2 right-2 h-4 w-4 text-primary"})):O("",!0)],34),(b(),C(K,null,Z(f,d=>a("button",{key:d.id,class:B(["relative px-3 py-3 rounded-lg border-2 transition-all overflow-hidden group",T(e).theme===d.id?"border-primary bg-primary/10 shadow-sm scale-[1.02]":"border-border bg-background hover:border-primary/50"]),onClick:v=>T(e).setTheme(d.id),onMouseenter:v=>p(d.id),onMouseleave:h[3]||(h[3]=v=>p(null))},[h[10]||(h[10]=a("div",{class:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},[a("div",{class:"absolute inset-0 bg-gradient-to-br from-background via-background to-muted/30"})],-1)),a("div",rr,[a("div",nr,[a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u(d.id).background,borderColor:u(d.id).border})},null,4),a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u(d.id).card,borderColor:u(d.id).border})},null,4),a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u(d.id).muted,borderColor:u(d.id).border})},null,4)]),a("div",ar,P(d.name),1),a("div",lr,P(d.description),1)]),T(e).theme===d.id?(b(),H(T(ye),{key:0,class:"absolute top-2 right-2 h-4 w-4 text-primary"})):O("",!0)],42,or)),64)),(b(),C(K,null,Z(n,d=>a("button",{key:d.id,class:B(["relative px-3 py-3 rounded-lg border-2 transition-all overflow-hidden group",T(e).theme===d.id?"border-primary bg-primary/10 shadow-sm scale-[1.02]":"border-border bg-background hover:border-primary/50"]),onClick:v=>T(e).setTheme(d.id),onMouseenter:v=>p(d.id),onMouseleave:h[4]||(h[4]=v=>p(null))},[h[11]||(h[11]=a("div",{class:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},[a("div",{class:"absolute inset-0 bg-gradient-to-br from-background via-background to-muted/30"})],-1)),a("div",cr,[a("div",dr,[a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u(d.id).background,borderColor:u(d.id).border})},null,4),a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u(d.id).card,borderColor:u(d.id).border})},null,4),a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u(d.id).muted,borderColor:u(d.id).border})},null,4)]),a("div",ur,P(d.name),1),a("div",pr,P(d.description),1)]),T(e).theme===d.id?(b(),H(T(ye),{key:0,class:"absolute top-2 right-2 h-4 w-4 text-primary"})):O("",!0)],42,ir)),64)),(b(!0),C(K,null,Z(s.value,d=>(b(),C("button",{key:d.id,class:B(["relative px-3 py-3 rounded-lg border-2 transition-all overflow-hidden group",T(e).theme===`custom:${d.id}`?"border-primary bg-primary/10 shadow-sm scale-[1.02]":"border-border bg-background hover:border-primary/50"]),onClick:v=>T(e).setTheme(`custom:${d.id}`),onMouseenter:v=>p(`custom:${d.id}`),onMouseleave:h[5]||(h[5]=v=>p(null))},[h[13]||(h[13]=a("div",{class:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},[a("div",{class:"absolute inset-0 bg-gradient-to-br from-background via-background to-muted/30"})],-1)),a("div",hr,[a("div",mr,[a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u(`custom:${d.id}`).background,borderColor:u(`custom:${d.id}`).border})},null,4),a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u(`custom:${d.id}`).card,borderColor:u(`custom:${d.id}`).border})},null,4),a("div",{class:"h-3 w-3 rounded-full border",style:X({backgroundColor:u(`custom:${d.id}`).muted,borderColor:u(`custom:${d.id}`).border})},null,4)]),a("div",vr,P(d.name),1),h[12]||(h[12]=a("div",{class:"text-[10px] text-muted-foreground mt-0.5 truncate"},"Custom",-1))]),T(e).theme===`custom:${d.id}`?(b(),H(T(ye),{key:0,class:"absolute top-2 right-2 h-4 w-4 text-primary"})):O("",!0)],42,fr))),128))])])]),a("div",gr,[h[15]||(h[15]=a("label",{class:"text-sm font-medium"},"Accent Color",-1)),a("div",br,[(b(),C(K,null,Z(y,d=>a("button",{key:d.name,class:B(["h-10 rounded-md border-2 transition-all",T(o).accentColor===d.name?"border-foreground scale-105":"border-border hover:border-foreground/50"]),style:X({backgroundColor:d.light}),onClick:v=>T(o).setAccentColor(d.name),title:d.name},[T(o).accentColor===d.name?(b(),C("div",xr,[V(T(ye),{class:"h-5 w-5 text-white drop-shadow-lg"})])):O("",!0)],14,yr)),64))])])])]),_:1},8,["model-value"]))}});function Ie(t){return t.toLowerCase().trim()}function te(t,e){return t?Ie(t).includes(Ie(e)):!1}function Sr(t,e,o,s){if(Ie(s),te(e,s)||te(o,s)||t.summary&&te(t.summary,s)||t.description&&te(t.description,s)||t.operationId&&te(t.operationId,s))return!0;if(t.tags){for(const i of t.tags)if(te(i,s))return!0}if(t.parameters){for(const i of t.parameters)if(te(i.name,s)||i.description&&te(i.description,s))return!0}if(t.requestBody?.description&&te(t.requestBody.description,s))return!0;if(t.responses){for(const[i,f]of Object.entries(t.responses))if(te(i,s)||f.description&&te(f.description,s))return!0}return!1}function wr(t,e){if(!e.trim())return[];const o=[];return Ie(e),t.forEach((s,i)=>{const f=s.spec;if(f.paths)for(const[n,p]of Object.entries(f.paths)){const u=["get","post","put","delete","patch","options","head","trace"];for(const y of u){const m=p[y];m&&Sr(m,y.toUpperCase(),n,e)&&o.push({method:y.toUpperCase(),path:n,operation:m,specTitle:s.title||f.info?.title,specIndex:i,tags:m.tags})}}}),o}const $r={key:0,class:"h-screen flex items-center justify-center"},Cr={class:"text-center space-y-4"},_r={class:"flex-1 flex flex-col h-screen"},Tr={class:"border-b border-border bg-card"},Er={class:"h-14 flex items-center justify-between px-6"},Ir={class:"flex items-center gap-3"},Pr={class:"text-lg font-semibold text-foreground"},Ar={class:"text-xs text-muted-foreground"},Or={class:"flex items-center gap-2 flex-1 max-w-2xl mx-4"},Ur={class:"relative flex-1 global-search-container"},Nr=["onClick"],jr={class:"flex items-center gap-2 mb-1"},Rr={class:"text-sm font-medium text-foreground flex-1 truncate"},Lr={key:0,class:"text-xs text-muted-foreground truncate max-w-[120px]"},Mr={key:0,class:"text-xs text-muted-foreground line-clamp-1"},zr={class:"flex items-center gap-2"},Vr={key:0,class:"px-6 py-3 bg-muted/30 border-t border-border text-sm space-y-2"},Hr={key:0,class:"text-muted-foreground"},Dr={key:1,class:"flex items-center gap-2 flex-wrap"},qr=["href"],Br={class:"flex-1 overflow-hidden"},Fr={key:2,class:"flex items-center justify-center h-full"},Wr={class:"text-center space-y-2"},Gr=["src"],Jr={class:"space-y-4"},Kr={class:"space-y-2"},Xr=se({__name:"Index",setup(t){const e=Ke(()=>Je(()=>import("./operation-view-dvfPPhEz.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),o=Ke(()=>Je(()=>import("./GroupEndpointsView-BhTYvhPd.js"),__vite__mapDeps([8,2,3,4,1,5,6]))),s=Lt(),i=Mt(),{toast:f}=lt(),n=Ae(),p=Et(),u=It(),y=Pt(),m=()=>typeof window<"u"&&window.__SPECULA_STANDALONE__===!0,h=L(()=>at()),d=R(null),v=R(null),g=R(null),_=R(null),x=R(!1),w=R(!1),M=R(!1),W=R(!1),S=R(null),$=R(""),I=R(!1),U=L(()=>$.value.trim()?wr(n.specs,$.value):[]);L(()=>!0);const G=L(()=>n.specs.some(r=>{const l=r.spec?.components?.securitySchemes;return l&&Object.keys(l).length>0})),J=L(()=>n.specs.filter(r=>{const l=r.spec?.components?.securitySchemes;return l&&Object.keys(l).length>0})),Q=()=>{const c=J.value;c.length===1?(S.value=c[0],w.value=!0):c.length>1&&(M.value=!0)},Y=c=>{S.value=c,M.value=!1,w.value=!0};le(w,c=>{c||(S.value=null)});const ie=()=>{const c=s.query.spec;if(!c)return null;if(Array.isArray(c))return c.length>0?c[c.length-1]:null;{const r=c.split(",").map(l=>l.trim());return r.length>0?r[r.length-1]:null}},oe=c=>{for(const E of n.specs)if(E.spec===c){if(E.sourceUrl){const j=s.query.spec;if(j){const z=Array.isArray(j)?j:[j],D=n.specs.findIndex(q=>q===E);if(D>=0&&D<z.length){const q=z[D];if(he(q))return q}}}const N=Array.from(p.cache.values()).find(j=>j.spec===c);if(N)return N.hash}const r=Array.from(p.cache.values()),l=r.find(E=>E.spec===c);if(l)return l.hash;const k=r.find(E=>E.spec.info?.title!==c.info?.title||E.spec.info?.version!==c.info?.version||E.spec.openapi!==c.openapi?!1:JSON.stringify(E.spec)===JSON.stringify(c));return k?k.hash:null},ve=()=>{if(!d.value)return;const c=s.path;if(m()&&c!=="/"&&!c.startsWith("/group/")){const r=c.split("/").filter(l=>l.length>0);if(r.length>=2){const l=r[0]?.toUpperCase(),k=r.slice(1).join("/");if(l&&["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD","TRACE"].includes(l)){const A=_e(n.specs,k);A?(v.value={method:A.method,path:A.path},g.value=null):i.replace("/");return}else{i.replace("/");return}}else if(r.length>0){i.replace("/");return}}if(c.startsWith("/group/")){const r=s.params.groupPath,l=vt(d.value,r);l?(g.value=l,v.value=null):i.replace("/")}else if(c.startsWith("/spec/")&&c.includes("/endpoint/")){const r=s.params.method.toUpperCase(),l=s.params.path,k=_e(n.specs,l);k&&k.method===r?(v.value={method:k.method,path:k.path},g.value=null):i.replace("/")}else if(c.startsWith("/endpoint/")){const r=s.params.method.toUpperCase(),l=s.params.path,k=_e(n.specs,l);if(k&&k.method===r){v.value={method:k.method,path:k.path},g.value=null;const E=oe(k.spec)||ie();if(E&&he(E)){const A={...s.query};i.replace({path:`/spec/${E}/endpoint/${r.toLowerCase()}/${l}`,query:A})}}else i.replace("/")}else if(c==="/")v.value=null,g.value=null;else{const l=(c.startsWith("/")?c.slice(1):c).split("/").filter(k=>k.length>0);if(l.length>=2){const k=l[l.length-1]?.toUpperCase(),E="/"+l.slice(0,-1).join("/");if(k&&["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD","TRACE"].includes(k)){let N=null,j=null;for(const z of n.specs)if(z.spec.paths[E]&&z.spec.paths[E][k.toLowerCase()]){N=E,j=z.spec;break}if(!N)for(const z of n.specs){for(const[D,q]of Object.entries(z.spec.paths)){const ne=D.split("/").filter(Ce=>Ce.length>0),ge=l.slice(0,-1);if(ne.length===ge.length){let Ce=!0;for(let be=0;be<ne.length;be++){const Ge=ne[be],_t=ge[be];if(!Ge.match(/^[{:]/)&&Ge!==_t){Ce=!1;break}}if(Ce&&q[k.toLowerCase()]){N=D,j=z.spec;break}}}if(N)break}if(N&&j){v.value={method:k,path:N},g.value=null;const z=Xt(N),D=k.toLowerCase(),q={...s.query},ne=oe(j)||ie();ne&&he(ne)?i.replace({path:`/spec/${ne}/endpoint/${D}/${z}`,query:q}):i.replace({path:`/endpoint/${D}/${z}`,query:q})}else v.value=null,g.value=null}else v.value=null,g.value=null}else v.value=null,g.value=null}};let pe=!1;const we=c=>{const r={...s.query},l=[],k=Array.from(p.cache.values());for(const E of c)if(E.sourceUrl)l.push(E.sourceUrl);else{let A=k.find(N=>N.spec===E.spec);A||(A=k.find(N=>N.spec.info?.title!==E.spec.info?.title||N.spec.info?.version!==E.spec.info?.version||N.spec.openapi!==E.spec.openapi?!1:JSON.stringify(N.spec)===JSON.stringify(E.spec))),A&&l.push(A.hash)}l.length>0?r.spec=l.length===1?l[0]:l:delete r.spec,i.replace({path:s.path,query:r})},Ue=async()=>{const c=s.query.spec;if(!c){n.specs.length===0&&s.path!=="/selection"&&!m()&&i.push("/selection");return}pe=!0;let r=[];if(Array.isArray(c)?r=c.map(l=>decodeURIComponent(l).trim()):r=c.split(",").map(l=>decodeURIComponent(l.trim())),r.length!==0)try{const l=[];for(const k of r)try{let E,A,N;if(he(k)){const j=p.getByHash(k);if(!j){f({title:"Cache miss",description:`Specification with hash ${k} not found in cache`,variant:"destructive"});continue}E=j,N=p.getCachedSpec(k)?.title||E.info?.title||"Untitled Specification"}else{const j=await fetch(k);if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);E=await j.json(),A=k,N=E.info?.title||"Untitled Specification"}l.push({spec:E,sourceUrl:A,title:N})}catch(E){f({title:"Failed to load spec",description:`Could not load specification from ${k}: ${E.message}`,variant:"destructive"})}l.length>0&&n.setSpecs(l)}catch(l){f({title:"Error",description:l.message||"Failed to load specifications",variant:"destructive"})}finally{pe=!1}};le(()=>n.specs,(c,r)=>{if(r&&r.length>0&&c.length>0?(c.length!==r.length||c.some((k,E)=>{const A=r[E];return!A||k.spec!==A.spec}))&&Ye():c.length===0&&r&&r.length>0&&Ye(),c.length>0){if(c.length===1?d.value=ht(c[0].spec):d.value=Zt(c),d.value&&(c.forEach(l=>{u.addToHistory(l.spec)}),y.saveWorkspace(c)),!pe)if(m()&&s.query.spec){const l=s.query.spec,k=Array.isArray(l)?l:[l];(c.length!==k.length||c.some((A,N)=>{const j=Array.from(p.cache.values());return A.sourceUrl?A.sourceUrl!==k[N]:j.find(D=>D.spec===A.spec)?.hash!==k[N]}))&&we(c)}else we(c);ve()}else d.value=null,s.path!=="/selection"&&!m()&&i.push("/selection")},{immediate:!0}),le(()=>s.query.spec,()=>{Ue()},{immediate:!0}),le(()=>s.path,()=>{ve()});const Ne=c=>{const r=n.specs[c.specIndex];if(!r)return;const l=Se(c.operation,c.method,c.path);if(m()){const k=`/${c.method.toUpperCase()}/${l}`,E={};if(n.specs.length>1){const A=oe(r.spec);A&&(E.spec=A)}i.push({path:k,query:E})}else{const k=oe(r.spec);k&&he(k)?i.push({path:`/spec/${k}/endpoint/${c.method.toLowerCase()}/${l}`}):i.push({path:`/endpoint/${c.method.toLowerCase()}/${l}`})}I.value=!1,$.value="",v.value={method:c.method,path:c.path},g.value=null,_.value=null},je=c=>{c.target.closest(".global-search-container")||(I.value=!1)},$e=c=>{if(c.path&&c.method){let r=c.path;if(r.startsWith("http://")||r.startsWith("https://"))try{r=new URL(r).pathname}catch{const k=r.match(/https?:\/\/[^\/]+(\/.*?)(?:\?|$)/);k&&(r=k[1])}if(r.includes("?")&&(r=r.split("?")[0]),c.operationId){const l=_e(n.specs,c.operationId);if(l&&l.method===c.method.toUpperCase()){fe(l.method,l.path);return}}fe(c.method,r),_.value=c}},fe=(c,r)=>{const l=c.toLowerCase(),k={...s.query};_.value=null;let E=null,A=null;for(const z of n.specs){const D=z.spec.paths[r];if(D){const q=D[c.toLowerCase()];if(q){E=q,A=z;break}}}if(!E&&n.specs.length>0){const z=ie();if(z&&he(z)){const D=p.getByHash(z);if(D){for(const q of n.specs)if(q.spec===D){const ne=q.spec.paths[r];if(ne){const ge=ne[c.toLowerCase()];if(ge){E=ge,A=q;break}}}}}}if(!E)for(const z of n.specs){const D=z.spec.paths[r];if(D){const q=D[c.toLowerCase()];if(q){E=q,A=z;break}}}if(!E)return;const N=Se(E,c,r);if(m()){const z=s.query.spec;if(!(A&&n.specs.length>1&&z))if(A&&n.specs.length>1){const q=oe(A.spec);q&&(k.spec=q)}else z&&n.specs.length===1&&delete k.spec;const D=`/${c.toUpperCase()}/${N}`;i.push({path:D,query:k});return}let j=null;A&&(j=oe(A.spec)),j||(j=ie()),j&&he(j)?i.push({path:`/spec/${j}/endpoint/${l}/${N}`,query:k}):i.push({path:`/endpoint/${l}/${N}`,query:k})},de=c=>{const r=mt(c.fullPath),l={...s.query};i.push({path:`/group/${r}`,query:l}),_.value=null},Re=()=>{v.value=null,g.value=null,m()||i.push("/selection")},Le=L(()=>{const c=n.specs,r=c.length;if(r===0)return"Specula";if(v.value){const{method:l,path:k}=v.value;let E=null,A;for(const N of c){const j=N.spec.paths[k];if(j){const z=j[l.toLowerCase()];if(z){E=z,A=N.title||N.spec?.info?.title;break}}}if(E){const N=E.summary||E.operationId||k,j=[l,k];return N&&N!==k&&j.unshift(N),A&&r>1&&j.push(`- ${A}`),`${j.join(" ")} | Specula`}return`${l} ${k} | Specula`}if(g.value){const l=g.value.name,k=r===1?c[0].title||c[0].spec?.info?.title:void 0;return k&&r>1?`${l} - ${k} | Specula`:`${l} | Specula`}return r===1?`${c[0].title||c[0].spec?.info?.title||"OpenAPI Specification"} | Specula`:`${r} Specifications | Specula`});le(Le,c=>{typeof document<"u"&&(document.title=c)},{immediate:!0});const re=L(()=>{const c=n.specs,r=v.value;if(c.length===0||!r)return null;const l=r.method.toLowerCase(),k=r.path;for(const E of c){const A=E.spec.paths[k];if(A){const N=A[l];if(N)return{method:r.method,path:r.path,operation:N,spec:E.spec,sourceUrl:E.sourceUrl}}}return null});return(c,r)=>T(n).specs.length===0||!d.value?(b(),C("div",$r,[a("div",Cr,[r[13]||(r[13]=a("p",{class:"text-lg text-muted-foreground"},"No specification loaded",-1)),m()?O("",!0):(b(),H(ae,{key:0,onClick:r[0]||(r[0]=l=>T(i).push("/selection"))},{default:F(()=>[...r[12]||(r[12]=[ee(" Go to Selection ",-1)])]),_:1}))])])):(b(),C("div",{key:1,class:"flex h-screen w-full bg-background",onClick:je},[V(Xs,{root:d.value,"selected-operation":v.value,onOperationSelect:fe,onGroupSelect:de,onHistorySelect:$e},null,8,["root","selected-operation"]),a("div",_r,[a("header",Tr,[a("div",Er,[a("div",Ir,[a("div",null,[a("h1",Pr,P(T(n).specs.length===1?T(n).specs[0].spec?.info?.title||"OpenAPI Specification":`${T(n).specs.length} Specifications`),1),a("p",Ar,P(T(n).specs.length===1?`v${T(n).specs[0].spec?.info?.version||"1.0.0"} | OpenAPI ${T(n).specs[0].spec?.openapi}`:"Multiple specifications loaded"),1)])]),a("div",Or,[a("div",Ur,[V(T(Bt),{class:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),V(it,{modelValue:$.value,"onUpdate:modelValue":r[1]||(r[1]=l=>$.value=l),placeholder:"Search all endpoints...",class:"pl-8 h-9 text-sm",autocomplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true","data-dashlane-ignore":"true","data-form-type":"other",type:"search",name:"search-endpoints",id:"global-search-input",onFocus:r[2]||(r[2]=l=>I.value=!0),onKeydown:r[3]||(r[3]=Rt(l=>I.value=!1,["escape"]))},null,8,["modelValue"]),I.value&&U.value.length>0?(b(),C("div",{key:0,class:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded-md shadow-lg z-50 max-h-96 overflow-y-auto",onClick:r[4]||(r[4]=De(()=>{},["stop"]))},[(b(!0),C(K,null,Z(U.value,(l,k)=>(b(),C("div",{key:k,class:"p-3 hover:bg-muted cursor-pointer border-b border-border last:border-b-0",onClick:E=>Ne(l)},[a("div",jr,[a("span",{class:B(["text-xs font-bold px-2 py-0.5 rounded text-white",T(ue)(l.method)])},P(l.method),3),a("span",Rr,P(l.path),1),l.specTitle?(b(),C("span",Lr,P(l.specTitle),1)):O("",!0)]),l.operation.summary?(b(),C("p",Mr,P(l.operation.summary),1)):O("",!0)],8,Nr))),128))])):O("",!0),I.value&&$.value&&U.value.length===0?(b(),C("div",{key:1,class:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded-md shadow-lg z-50 p-4 text-center text-sm text-muted-foreground",onClick:r[5]||(r[5]=De(()=>{},["stop"]))}," No results found ")):O("",!0)])]),a("div",zr,[G.value?(b(),H(ae,{key:0,variant:"outline",size:"sm",onClick:Q},{default:F(()=>[V(T(qe),{class:"h-4 w-4 mr-2"}),r[14]||(r[14]=ee(" Authorization ",-1))]),_:1})):O("",!0),m()?O("",!0):(b(),H(ae,{key:1,variant:"outline",size:"sm",onClick:Re},{default:F(()=>[V(T(Ft),{class:"h-4 w-4 mr-2"}),r[15]||(r[15]=ee(" Back to Selection ",-1))]),_:1})),V(ae,{variant:"outline",size:"sm",onClick:r[6]||(r[6]=l=>x.value=!0)},{default:F(()=>[V(T(Wt),{class:"h-4 w-4 mr-2"}),r[16]||(r[16]=ee(" Export ",-1))]),_:1}),V(ae,{variant:"outline",size:"sm",onClick:r[7]||(r[7]=l=>W.value=!0)},{default:F(()=>[V(T(Gt),{class:"h-4 w-4"})]),_:1})])]),T(n).specs.length===1&&T(n).specs[0].spec&&(T(n).specs[0].spec.info.description||T(n).specs[0].spec.servers&&T(n).specs[0].spec.servers.length>0||T(n).specs[0].spec.externalDocs)?(b(),C("div",Vr,[T(n).specs[0].spec.info.description?(b(),C("p",Hr,P(T(n).specs[0].spec.info.description),1)):O("",!0),T(n).specs[0].spec.servers&&T(n).specs[0].spec.servers.length>0?(b(),C("div",Dr,[r[17]||(r[17]=a("span",{class:"font-medium"},"Servers:",-1)),(b(!0),C(K,null,Z(T(n).specs[0].spec.servers,(l,k)=>(b(),C("code",{key:k,class:"px-2 py-0.5 bg-code-bg rounded text-xs"},P(l.url),1))),128))])):O("",!0),T(n).specs[0].spec.externalDocs?(b(),C("a",{key:2,href:T(n).specs[0].spec.externalDocs.url,target:"_blank",rel:"noopener noreferrer",class:"text-primary hover:underline inline-flex items-center gap-1"}," ðŸ“– "+P(T(n).specs[0].spec.externalDocs.description||"External Documentation"),9,qr)):O("",!0)])):O("",!0)]),a("main",Br,[g.value?(b(),H(T(o),{key:0,"group-node":g.value,"selected-operation":v.value,onSelectOperation:fe},null,8,["group-node","selected-operation"])):re.value?(b(),H(T(e),{key:`${re.value.method}-${re.value.path}-${_.value?.id||"default"}`,method:re.value.method,path:re.value.path,operation:re.value.operation,spec:re.value.spec,"source-url":re.value.sourceUrl,"initial-state":_.value},null,8,["method","path","operation","spec","source-url","initial-state"])):(b(),C("div",Fr,[a("div",Wr,[a("img",{src:h.value,alt:"Logo",class:"mx-auto h-16 w-16 logo-image-opacity"},null,8,Gr),r[18]||(r[18]=a("p",{class:"text-lg font-medium text-foreground"}," Select an operation ",-1)),r[19]||(r[19]=a("p",{class:"text-sm text-muted-foreground"}," Choose an endpoint from the sidebar to view details ",-1))])]))])]),V(Ro,{modelValue:x.value,"onUpdate:modelValue":r[8]||(r[8]=l=>x.value=l),specs:T(n).specs},null,8,["modelValue","specs"]),V(kr,{modelValue:W.value,"onUpdate:modelValue":r[9]||(r[9]=l=>W.value=l)},null,8,["modelValue"]),S.value?(b(),H(Xo,{key:0,modelValue:w.value,"onUpdate:modelValue":r[10]||(r[10]=l=>w.value=l),spec:S.value.spec,"source-url":S.value.sourceUrl},null,8,["modelValue","spec","source-url"])):O("",!0),m()?O("",!0):(b(),H(Oe,{key:1,modelValue:M.value,"onUpdate:modelValue":r[11]||(r[11]=l=>M.value=l),title:"Select Specification","close-on-backdrop":!0},{default:F(()=>[a("div",Jr,[r[20]||(r[20]=a("p",{class:"text-sm text-muted-foreground"}," Select a specification to configure authorization credentials. ",-1)),a("div",Kr,[(b(!0),C(K,null,Z(J.value,(l,k)=>(b(),H(ae,{key:k,variant:"outline",size:"sm",onClick:E=>Y(l),class:"w-full justify-start"},{default:F(()=>[V(T(qe),{class:"w-4 h-4 mr-2"}),ee(" "+P(l.spec?.info?.title||l.title||"Untitled Specification"),1)]),_:2},1032,["onClick"]))),128))])])]),_:1},8,["modelValue"]))]))}}),on=Object.freeze(Object.defineProperty({__proto__:null,default:Xr},Symbol.toStringTag,{value:"Module"}));export{Oe as D,on as I,kt as R,Lo as _,oo as a,Qt as b,We as c,yt as d,Ze as e,ft as f,ue as g,Ae as h,Qe as i,gt as j,sn as s,Ct as u};
